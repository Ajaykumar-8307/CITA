"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2319],{1918:function(e,r,n){n.d(r,{R:function(){return getEnterprisePlan},q:function(){return getPlans}});var t=n(46095),a=n(82469),u=n(84161),getPlans=function(e){var r=e.activeBillingPeriod,n=e.includeFree,o=e.country,i=e.isLoading,s=void 0!==i&&i,l=e.uxp18Variant,c=void 0===l?"control":l,d=e.uxpPricingUsVariant,p=e.uxp39StandardVariant,E=e.purchasePriceId,f=void 0===E?null:E,y=(e.currency,e.teamCredits),S=e.teamScreens,T=c===a.ZC.UXP_18.VARIANT_2||c===a.ZC.UXP_18.VARIANT_3,v=(void 0===d?"control":d)===a.ZC.UXP_39.VARIANT,_=(void 0===p?"control":p)===a.ZC.UXP_39.VARIANT,m=f?(0,u.fF)(f):(0,u.zC)(void 0===o?"US":o),R=m.symbol,D=m.stripeKey,A=[{planId:"standard",planLevel:"yearly"===r?t.wT.STANDARD_YEARLY:t.wT.STANDARD_MONTHLY,price:"yearly"===r?T?_?"22":"14":"12":T?_?"29":"19":"15",currency:R,discount:T?_?"84":"60":"25%",paymentUrl:"yearly"===r?T?_?t.rg.STANDARD.YEARLY["".concat(D,"_22")]:t.rg.STANDARD.YEARLY["".concat(D,"_14")]:t.rg.STANDARD.YEARLY["".concat(D,"_12")]:T?_?t.rg.STANDARD.MONTHLY["".concat(D,"_29")]:t.rg.STANDARD.MONTHLY["".concat(D,"_19")]:t.rg.STANDARD.MONTHLY["".concat(D,"_15")],creditsNumb:"420",screensNumb:"70"},{planId:"pro",planLevel:"yearly"===r?t.wT.PRO_YEARLY:t.wT.PRO_MONTHLY,price:v?"yearly"===r?"29":"39":"yearly"===r?"22":"29",currency:R,discount:T?v?"120":"84":"25%",paymentUrl:v?"yearly"===r?t.rg.PRO.YEARLY.USD_29:t.rg.PRO.MONTHLY.USD_39:"yearly"===r?t.rg.PRO.YEARLY["".concat(D,"_22")]:t.rg.PRO.MONTHLY["".concat(D,"_29")],titleClass:"bg-[linear-gradient(99deg,_#3F20FB_3.03%,_#B377FF_94.71%)] text-white",borderOutline:!0,highlight:!0,creditsNumb:"1200",screensNumb:"200"},{planId:"teams",planLevel:"yearly"===r?t.wT.TEAM_YEARLY:t.wT.TEAM_MONTHLY,price:"yearly"===r?v?"39":"31":v?"49":"39",currency:R,discount:T?"96":"20%",paymentUrl:"yearly"===r?v?t.Ez.YEARLY["".concat(D,"_470")]:t.Ez.YEARLY["".concat(D,"_468")]:v?t.Ez.MONTHLY["".concat(D,"_49")]:t.Ez.MONTHLY["".concat(D,"_39")],creditsNumb:void 0===y?"":y,screensNumb:void 0===S?"":S}];return(void 0===n||n)&&A.unshift({planId:"free",price:"0",currency:R,planLevel:t.wT.FREE,isLoading:s,creditsNumb:s?"__":"45",screensNumb:s?"__":"7",highlight:!0}),A},getEnterprisePlan=function(){return{titleClass:"bg-[linear-gradient(99deg,_#3F20FB_3.03%,_#B377FF_94.71%)] text-white"}}},91139:function(e,r,n){n.r(r),n.d(r,{default:function(){return PricingProvider},usePricing:function(){return usePricing}});var t,a=n(45610),u=n(9),o=n(50044),i=n(57437),s=n(2265),l=(0,s.createContext)(void 0),usePricing=function(){var e=(0,s.useContext)(l);if(!e)throw Error("usePricing must be used within a PricingProvider");return e},c=(t=(0,a._)(function(){var e;return(0,o.Jh)(this,function(r){switch(r.label){case 0:return[4,fetch("/api/geo")];case 1:if(!(e=r.sent()).ok)throw Error("HTTP error! status: ".concat(e.status));return[4,e.json()];case 2:return[2,r.sent()]}})}),function(){return t.apply(this,arguments)});function PricingProvider(e){var r=e.children,n=(0,u._)((0,s.useState)(null),2),t=n[0],d=n[1],p=(0,u._)((0,s.useState)(!0),2),E=p[0],f=p[1],y=(0,s.useCallback)((0,a._)(function(){var e;return(0,o.Jh)(this,function(r){switch(r.label){case 0:f(!0),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,c()];case 2:return d((null==(e=r.sent())?void 0:e.country)||"US"),[3,5];case 3:return r.sent(),d("US"),[3,5];case 4:return f(!1),[7];case 5:return[2]}})}),[]);(0,s.useEffect)(function(){y()},[y]);var S=(0,s.useMemo)(function(){return{country:t,setCountry:d,isGeoLoading:E,reloadGeo:y}},[t,E,y]);return(0,i.jsx)(l.Provider,{value:S,children:r})}},72319:function(e,r,n){n.d(r,{ZP:function(){return Contexts_SubscriptionProvider},mU:function(){return useSubscription}});var t=n(45610),a=n(9),u=n(50044),o=n(57437),i=n(2265),s=n(4392),l=n(82469),c=n(46095),d=n(79398),p=n(45511),E=n(15203),f=n(27419);function _sendPurchaseDataToLayer(){return(_sendPurchaseDataToLayer=(0,t._)(function(e){var r,n,t,a,o,i,s,l,d,y,S,T,v,_,m,R,D,A,g,h;return(0,u.Jh)(this,function(u){switch(u.label){case 0:r=e.analytics,n=e.userId,t=e.planType,a=e.email,o=e.full_name,u.label=1;case 1:return u.trys.push([1,11,,12]),[4,(0,E.b)().dispatch(f.h7.endpoints.getPaymentLogs.initiate(n))];case 2:if(!((null==(s=u.sent())?void 0:s.data)&&Array.isArray(null==s?void 0:null===(i=s.data)||void 0===i?void 0:i.payments)))return[3,10];l=!0,d=!1,y=void 0,u.label=3;case 3:u.trys.push([3,8,9,10]),S=s.data.payments[Symbol.iterator](),u.label=4;case 4:if(l=(T=S.next()).done)return[3,7];if((v=T.value).isSentToDataLayer)return[3,6];return p.Z.trackPurchase({user_id:n,plan:t,email:a,currency:v.currency||"USD",value:v.amount,subscription_id:v.id,phone:v.phone,full_name:o,street_address:null==v?void 0:null===(_=v.billingAddress)||void 0===_?void 0:_.street_address,city:null==v?void 0:null===(m=v.billingAddress)||void 0===m?void 0:m.city,region:null==v?void 0:null===(R=v.billingAddress)||void 0===R?void 0:R.region,postal_code:null==v?void 0:null===(D=v.billingAddress)||void 0===D?void 0:D.postal_code,country:null==v?void 0:null===(A=v.billingAddress)||void 0===A?void 0:A.country}),("subscription"===v.paymentType||"subscription"===v.type)&&r.capture(c.Je.SUBSCRIPTION_STARTED,{user_id:n,plan:t,email:a,currency:v.currency||"USD",value:v.amount,subscription_id:v.id}),r.capture(c.Je.PURCHASE_COMPLETED,{user_id:n,plan:t,email:a,currency:v.currency||"USD",value:v.amount,subscription_id:v.id,payment_type:v.paymentType||v.type}),[4,(0,E.b)().dispatch(f.h7.endpoints.markPaymentSent.initiate({userId:n,paymentId:v.id}))];case 5:(null==(g=u.sent().data)?void 0:g.success)||console.error("Error marking payment as sent:",g),u.label=6;case 6:return l=!0,[3,4];case 7:return[3,10];case 8:return h=u.sent(),d=!0,y=h,[3,10];case 9:try{l||null==S.return||S.return()}finally{if(d)throw y}return[7];case 10:return[3,12];case 11:return console.error("Error in sendPurchaseDataToLayer:",u.sent()),[3,12];case 12:return[2]}})})).apply(this,arguments)}var formatTimestamp=function(e){if(!e)return null;try{if("object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"_seconds")&&Object.prototype.hasOwnProperty.call(e,"_nanoseconds"))return new Date(1e3*e._seconds+e._nanoseconds/1e6).toLocaleDateString();if("number"==typeof e)return new Date(1e3*e).toLocaleDateString();if(e instanceof Date||"string"==typeof e)return new Date(e).toLocaleDateString();return null}catch(e){return console.error("Error formatting timestamp:",e),null}},y=n(40245),S=n(46615),T=n(97668),v=(0,i.createContext)(),useSubscription=function(){return(0,i.useContext)(v)},Contexts_SubscriptionProvider=function(e){var r,n=e.children,p=(0,d.z)(),E=(0,s.aC)(),_=E.userInfo,m=E.currentUser,R=E.googleUID,D=(0,S.Z)(),A=D.myPlanLevel,g=D.myPlanDuration,h=D.isLegacyUser,P=D.currentPlan,I=(0,a._)((0,i.useState)(!0),2),L=I[0],C=I[1],O=(0,a._)((0,i.useState)(!0),2),N=O[0],b=O[1],U=(0,a._)((0,i.useState)(!1),2),Y=U[0],q=U[1],M=(0,a._)((0,i.useState)(!1),2),w=M[0],G=M[1],F=(0,a._)((0,i.useState)(!1),2),V=F[0],H=F[1],B=(0,a._)((0,i.useState)(!1),2),x=B[0],z=B[1],W=(0,a._)((0,i.useState)(!1),2),Q=W[0],j=W[1],K=(0,a._)((0,i.useState)(null),2),k=K[0],J=K[1],X=(0,a._)((0,i.useState)(null),2),Z=X[0],$=X[1],ee=(0,a._)((0,i.useState)(null),2),er=ee[0],en=ee[1],et=(0,a._)((0,i.useState)(!1),2),ea=et[0],eu=et[1],eo=(0,f.sn)({teamPlanId:null==_?void 0:_.enterpriseId},{skip:!(null==_?void 0:_.enterpriseId)}).data,ei=(null==_?void 0:_.uxp77Variant)===l.ZC.UXP_77.ALL_ACCESS&&!_.subscription,es=(0,T.R)(null==_?void 0:_.createdDate),el=(0,i.useMemo)(function(){return ei&&es>0&&!_.subscription},[ei,es]),ec=(0,f.ty)({uid:R,email:null==m?void 0:m.email},{skip:!R||!(null==m?void 0:m.email),refetchOnMountOrArgChange:!0}),ed=ec.data,ep=ec.isFetching,eE=ec.refetch,ef=(r=(0,t._)(function(){return(0,u.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,eE()];case 1:return e.sent(),[3,3];case 2:return console.error("Failed to refetch subscription:",e.sent()),[3,3];case 3:return[2]}})}),function(){return r.apply(this,arguments)}),ey=(0,i.useMemo)(function(){if(!_)return"";if(el)return c.FD.PRO;var e,r=(null==_?void 0:_.planType)===c.FD.TEAM,n=(null==_?void 0:_.isEnterpriseUser)?r?c.FD.TEAM:c.FD.ENTERPRISE:(e=_.subscriptionPlanId)?c.on[c.FD.PRO].has(e)?c.FD.PRO:c.on[c.FD.STANDARD].has(e)?c.FD.STANDARD:c.FD.FREE:c.FD.FREE;return n!==c.FD.FREE&&_.status===c.FD.INACTIVE?c.FD.INACTIVE:n},[_,el]);(0,i.useEffect)(function(){ed&&function(e){if(e)switch(en(e),q(!0===e.isBetaUser),G(e.isEnterpriseUser),H(e.isEnterpriseAdmin),z(e.enterprisePlanStatus),j(e.enterpriseAccessStatus),e.subscriptionCancelledAt?$(formatTimestamp(e.subscriptionCancelledAt)):$(null),"paused"===e.pauseStatus?eu(!0):eu(!1),e.status){case"subscribed":C(!0),b(!1),J(formatTimestamp(e.subscriptionEndsAt));break;case"not-subscribed":C(el),b(!1),J(null);break;default:b(!1),C(el),J(null)}}(ed)},[ed]);var eS=(0,i.useMemo)(function(){return null==er?void 0:er.counters},[null==er?void 0:er.counters]),eT=(0,i.useMemo)(function(){var e,r,n,t,a,u,o,i,s=null!==(a=null==eS?void 0:null===(e=eS.planCredits)||void 0===e?void 0:e.remaining)&&void 0!==a?a:0,l=null!==(u=null==eS?void 0:null===(r=eS.boughtCredits)||void 0===r?void 0:r.remaining)&&void 0!==u?u:0,c=null!==(o=null==eS?void 0:null===(n=eS.planCredits)||void 0===n?void 0:n.total)&&void 0!==o?o:0,d=null!==(i=null==eS?void 0:null===(t=eS.boughtCredits)||void 0===t?void 0:t.total)&&void 0!==i?i:0,p=w?l:s+l,E=w?d:l>1?d+c:c,f=Math.min(100,E>0?(p/E*100).toFixed(2):0);return{planCreditsRemaining:s,boughtCreditsRemaining:l,totalAvailableCredits:p,totalOverallCredits:E,creditPercentage:f}},[eS,ed]);(0,i.useEffect)(function(){if(er){var e;if(p.setUserProperties({subscription_status:L?"subscribed":"not_subscribed",plan_type:ey,is_beta_user:Y,subscription_ends_at:k,subscription_cancelled_at:Z,total_credits:eT.totalOverallCredits,available_credits:eT.totalAvailableCredits,total_credits_used:eT.totalOverallCredits-eT.totalAvailableCredits,credit_percentage:eT.creditPercentage,campaign_id:(0,y.QL)(),plan_level:A,plan_duration:g,is_legacy_user:h,current_plan_price:null==P?void 0:P.price,current_plan_currency:null==P?void 0:P.currency,current_plan_name:null==P?void 0:P.name,company_name:null==eo?void 0:null===(e=eo.data)||void 0===e?void 0:e.companyName}),eT.totalAvailableCredits<=6){var r=localStorage.getItem("last_reported_usage");(!r||Date.now()-r>864e5)&&(p.capture(c.Je.CREDITS_RUNNING_LOW,{distinct_id:R,user_id:R,available_credits:eT.totalAvailableCredits,total_credits:eT.totalOverallCredits,plan_type:ey,subscription_status:L?"subscribed":"not_subscribed"}),localStorage.setItem("last_reported_usage",Date.now()))}}},[er,L,ey,Y,k,Z,eT,p,R,A,g,h,P,eo]),(0,i.useEffect)(function(){!N&&!ep&&(null==_?void 0:_.subscriptionId)&&L&&function(e){_sendPurchaseDataToLayer.apply(this,arguments)}({analytics:p,userId:_.uid,planType:ey,email:null==m?void 0:m.email,full_name:null==_?void 0:_.displayName})},[N,ep,L,_,ey,p,null==m?void 0:m.email]);var ev=(0,i.useMemo)(function(){var e,r,n,t,a,u,o,i;return{isSubscribed:L,planType:ey,isLoading:N||ep,isBetaUser:Y,isEnterpriseUser:w,isEnterpriseAdmin:V,enterpriseAccessStatus:Q,enterprisePlanStatus:x,subscriptionEndsAt:k,subscriptionCancelledAt:Z,isPaused:ea,counters:{planCredits:null!==(a=null==eS?void 0:null===(e=eS.planCredits)||void 0===e?void 0:e.remaining)&&void 0!==a?a:0,boughtCredits:null!==(u=null==eS?void 0:null===(r=eS.boughtCredits)||void 0===r?void 0:r.remaining)&&void 0!==u?u:0,totalCredits:null!==(o=null==eS?void 0:null===(n=eS.planCredits)||void 0===n?void 0:n.total)&&void 0!==o?o:0,totalAvailableCredits:eT.totalAvailableCredits,totalOverallCredits:eT.totalOverallCredits,planExpireDate:null!==(i=null==eS?void 0:null===(t=eS.planCredits)||void 0===t?void 0:t.resetDate)&&void 0!==i?i:null,creditPercentage:eT.creditPercentage},refetchSubscription:ef,isAllAccessTrialUser:ei,hasActiveTrialAccess:el}},[L,ey,N,ep,Y,k,Z,eS,eT,Q,x,ei,el,ea]);return(0,o.jsx)(v.Provider,{value:ev,children:n})}},84161:function(e,r,n){n.d(r,{fF:function(){return getCurrencyInfoByPriceId},nl:function(){return getUserPreferredCurrency},zC:function(){return getCurrency}});var t=n(9),a=n(46095),u={GB:{symbol:"\xa3",stripeKey:"GBP",logo:"\uD83C\uDDEC\uD83C\uDDE7"},JE:{symbol:"\xa3",stripeKey:"GBP",logo:"\uD83C\uDDEF\uD83C\uDDEA"},GG:{symbol:"\xa3",stripeKey:"GBP",logo:"\uD83C\uDDEC\uD83C\uDDEC"},IM:{symbol:"\xa3",stripeKey:"GBP",logo:"\uD83C\uDDEE\uD83C\uDDF2"},SH:{symbol:"\xa3",stripeKey:"GBP",logo:"\uD83C\uDDF8\uD83C\uDDED"},FK:{symbol:"\xa3",stripeKey:"GBP",logo:"\uD83C\uDDEB\uD83C\uDDF0"},GS:{symbol:"\xa3",stripeKey:"GBP",logo:"\uD83C\uDDEC\uD83C\uDDF8"},GI:{symbol:"\xa3",stripeKey:"GBP",logo:"\uD83C\uDDEC\uD83C\uDDEE"},AT:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDE6\uD83C\uDDF9"},BE:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDE7\uD83C\uDDEA"},HR:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDED\uD83C\uDDF7"},CY:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDE8\uD83C\uDDFE"},EE:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDEA\uD83C\uDDEA"},FI:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDEB\uD83C\uDDEE"},FR:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDEB\uD83C\uDDF7"},DE:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDE9\uD83C\uDDEA"},GR:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDEC\uD83C\uDDF7"},IE:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDEE\uD83C\uDDEA"},IT:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDEE\uD83C\uDDF9"},LV:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF1\uD83C\uDDFB"},LT:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF1\uD83C\uDDF9"},LU:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF1\uD83C\uDDFA"},MT:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF2\uD83C\uDDF9"},NL:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF3\uD83C\uDDF1"},PT:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF5\uD83C\uDDF9"},SK:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF8\uD83C\uDDF0"},SI:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF8\uD83C\uDDEE"},ES:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDEA\uD83C\uDDF8"},MC:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF2\uD83C\uDDE8"},SM:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF8\uD83C\uDDF2"},VA:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDFB\uD83C\uDDE6"},AD:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDE6\uD83C\uDDE9"},XK:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDFD\uD83C\uDDF0"},ME:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF2\uD83C\uDDEA"},GF:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDEC\uD83C\uDDEB"},GP:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDEC\uD83C\uDDF5"},MQ:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF2\uD83C\uDDF6"},RE:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF7\uD83C\uDDEA"},YT:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDFE\uD83C\uDDF9"},PM:{symbol:"€",stripeKey:"EUR",logo:"\uD83C\uDDF5\uD83C\uDDF2"},DEFAULT:{symbol:"$",stripeKey:"USD",logo:"\uD83C\uDF10"}};function getCurrency(e){return u[e]||u.DEFAULT}var o={USD:"$",EUR:"€",GBP:"\xa3"},i=function(){var e={};try{var r=Object.values(a.rg||{}),n=!0,i=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var d=l.value,p=Object.values(d||{}),E=!0,f=!1,y=void 0;try{for(var S,T=p[Symbol.iterator]();!(E=(S=T.next()).done);E=!0){var v=S.value;Object.entries(v||{}).forEach(function(r){var n=(0,t._)(r,2),a=n[0],i=n[1],s=o[(a||"").split("_")[0]]||u.DEFAULT.symbol;"string"==typeof i&&i&&(e[i]=s)})}}catch(e){f=!0,y=e}finally{try{E||null==T.return||T.return()}finally{if(f)throw y}}}}catch(e){i=!0,s=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw s}}var _=Object.values(a.Ez||{}),m=!0,R=!1,D=void 0;try{for(var A,g=_[Symbol.iterator]();!(m=(A=g.next()).done);m=!0){var h=A.value;Object.entries(h||{}).forEach(function(r){var n=(0,t._)(r,2),a=n[0],i=n[1],s=o[(a||"").split("_")[0]]||u.DEFAULT.symbol;"string"==typeof i&&i&&(e[i]=s)})}}catch(e){R=!0,D=e}finally{try{m||null==g.return||g.return()}finally{if(R)throw D}}}catch(e){}return e}(),s=function(){var e={};try{var r=Object.values(a.rg||{}),n=!0,u=!1,o=void 0;try{for(var i,s=r[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var l=i.value,c=Object.values(l||{}),d=!0,p=!1,E=void 0;try{for(var f,y=c[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var S=f.value;Object.entries(S||{}).forEach(function(r){var n=(0,t._)(r,2),a=n[0],u=n[1],o=(a||"").split("_")[0];"string"==typeof u&&u&&(e[u]=o)})}}catch(e){p=!0,E=e}finally{try{d||null==y.return||y.return()}finally{if(p)throw E}}}}catch(e){u=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(u)throw o}}var T=Object.values(a.Ez||{}),v=!0,_=!1,m=void 0;try{for(var R,D=T[Symbol.iterator]();!(v=(R=D.next()).done);v=!0){var A=R.value;Object.entries(A||{}).forEach(function(r){var n=(0,t._)(r,2),a=n[0],u=n[1],o=(a||"").split("_")[0];"string"==typeof u&&u&&(e[u]=o)})}}catch(e){_=!0,m=e}finally{try{v||null==D.return||D.return()}finally{if(_)throw m}}}catch(e){}return e}();function getCurrencyInfoByPriceId(e){if(!e||"string"!=typeof e)return u.DEFAULT;var r=s[e],n=i[e];return r&&n?{symbol:n,stripeKey:r}:u.DEFAULT}function getUserPreferredCurrency(e,r){if(e&&""!==e){var n=getCurrencyInfoByPriceId(e);if(null==n?void 0:n.stripeKey)return n}return getCurrency(r)}},46615:function(e,r,n){var t,a,u,o=n(21575),i=n(9),s=n(57437),l=n(2265),c=n(4392),d=n(46095),p=n(1918),E=n(7964),f=n(82469),y=n(29467),S=n(91139),T=n(27419),v=n(84161),_=(t={},(0,o._)(t,d.wT.PRO_MONTHLY,new Set(["price_1PJY3MFa1DYVihNz7RcvbOEN","price_1NsLEQFa1DYVihNzl3BVeZxJ","price_1PR6P8Fa1DYVihNzPZpNsVMi","price_1OTS6wFa1DYVihNzRhuCcxee",d.rg.PRO.MONTHLY.USD_29,d.rg.PRO.MONTHLY.USD_39,d.rg.PRO.MONTHLY.EUR_29,d.rg.PRO.MONTHLY.GBP_29])),(0,o._)(t,d.wT.PRO_YEARLY,new Set(["price_1PCRYqFa1DYVihNzogcaPyUP","price_1OTS7fFa1DYVihNzyoFFVmbj","price_1PR6QsFa1DYVihNzS8QWgQ9B",d.rg.PRO.YEARLY.USD_22,d.rg.PRO.YEARLY.USD_29,d.rg.PRO.YEARLY.EUR_22,d.rg.PRO.YEARLY.GBP_22])),(0,o._)(t,d.wT.STANDARD_MONTHLY,new Set([d.rg.STANDARD.MONTHLY.USD_15,d.rg.STANDARD.MONTHLY.USD_19,d.rg.STANDARD.MONTHLY.USD_29,d.rg.STANDARD.MONTHLY.EUR_15,d.rg.STANDARD.MONTHLY.EUR_19,d.rg.STANDARD.MONTHLY.GBP_15,d.rg.STANDARD.MONTHLY.GBP_19])),(0,o._)(t,d.wT.STANDARD_YEARLY,new Set([d.rg.STANDARD.YEARLY.USD_12,d.rg.STANDARD.YEARLY.USD_14,d.rg.STANDARD.YEARLY.USD_22,d.rg.STANDARD.YEARLY.EUR_12,d.rg.STANDARD.YEARLY.EUR_14,d.rg.STANDARD.YEARLY.GBP_12,d.rg.STANDARD.YEARLY.GBP_14])),(0,o._)(t,d.wT.TEAM_MONTHLY,new Set([d.Ez.MONTHLY.USD_39,d.Ez.MONTHLY.USD_49,d.Ez.MONTHLY.EUR_39,d.Ez.MONTHLY.GBP_39])),(0,o._)(t,d.wT.TEAM_YEARLY,new Set([d.Ez.YEARLY.USD_468,d.Ez.YEARLY.USD_470,d.Ez.YEARLY.EUR_468,d.Ez.YEARLY.GBP_468])),t),m=new Set(["price_1PJY3MFa1DYVihNz7RcvbOEN","price_1NsLEQFa1DYVihNzl3BVeZxJ","price_1PR6P8Fa1DYVihNzPZpNsVMi","price_1OTS6wFa1DYVihNzRhuCcxee","price_1PCRYqFa1DYVihNzogcaPyUP"]),R=new Set(["price_1OTS7fFa1DYVihNzyoFFVmbj","price_1PR6QsFa1DYVihNzS8QWgQ9B"]),D={price_1PJY3MFa1DYVihNz7RcvbOEN:10,price_1NsLEQFa1DYVihNzl3BVeZxJ:9,price_1PR6P8Fa1DYVihNzPZpNsVMi:15,price_1OTS6wFa1DYVihNzRhuCcxee:10,price_1PCRYqFa1DYVihNzogcaPyUP:6,price_1OTS7fFa1DYVihNzyoFFVmbj:6,price_1PR6QsFa1DYVihNzS8QWgQ9B:9},A=(a={},(0,o._)(a,d.wT.FREE,0),(0,o._)(a,d.wT.STANDARD_MONTHLY,1),(0,o._)(a,d.wT.PRO_MONTHLY,2),(0,o._)(a,d.wT.STANDARD_YEARLY,3),(0,o._)(a,d.wT.PRO_YEARLY,4),(0,o._)(a,d.wT.TEAM_MONTHLY,5),(0,o._)(a,d.wT.TEAM_YEARLY,6),a),g=(u={},(0,o._)(u,d.wT.FREE,0),(0,o._)(u,d.wT.STANDARD_MONTHLY,{USD_15:15,USD_19:19,USD_29:29,EUR_15:15,EUR_19:19,GBP_15:15,GBP_19:19}),(0,o._)(u,d.wT.PRO_MONTHLY,{USD_29:29,EUR_29:29,GBP_29:29,USD_39:39}),(0,o._)(u,d.wT.STANDARD_YEARLY,{USD_12:12,USD_22:22,USD_14:14,EUR_12:12,EUR_14:14,GBP_12:12,GBP_14:14}),(0,o._)(u,d.wT.PRO_YEARLY,{USD_22:22,EUR_22:22,GBP_22:22,USD_29:29}),(0,o._)(u,d.wT.TEAM_MONTHLY,{USD_39:39,EUR_39:39,GBP_39:39,USD_49:49}),(0,o._)(u,d.wT.TEAM_YEARLY,{USD_468:374.4,EUR_468:374.4,GBP_468:374.4,USD_470:470}),u),getPriceValue=function(e,r){var n,t=g[e];return"number"==typeof t?t:t[(n={},(0,o._)(n,d.rg.STANDARD.MONTHLY.USD_15,"USD_15"),(0,o._)(n,d.rg.STANDARD.MONTHLY.USD_19,"USD_19"),(0,o._)(n,d.rg.STANDARD.MONTHLY.USD_29,"USD_29"),(0,o._)(n,d.rg.STANDARD.MONTHLY.EUR_15,"EUR_15"),(0,o._)(n,d.rg.STANDARD.MONTHLY.EUR_19,"EUR_19"),(0,o._)(n,d.rg.STANDARD.MONTHLY.GBP_15,"GBP_15"),(0,o._)(n,d.rg.STANDARD.MONTHLY.GBP_19,"GBP_19"),(0,o._)(n,d.rg.STANDARD.YEARLY.USD_12,"USD_12"),(0,o._)(n,d.rg.STANDARD.YEARLY.USD_14,"USD_14"),(0,o._)(n,d.rg.STANDARD.YEARLY.USD_22,"USD_22"),(0,o._)(n,d.rg.STANDARD.YEARLY.EUR_12,"EUR_12"),(0,o._)(n,d.rg.STANDARD.YEARLY.EUR_14,"EUR_14"),(0,o._)(n,d.rg.STANDARD.YEARLY.GBP_12,"GBP_12"),(0,o._)(n,d.rg.STANDARD.YEARLY.GBP_14,"GBP_14"),(0,o._)(n,d.rg.PRO.MONTHLY.USD_29,"USD_29"),(0,o._)(n,d.rg.PRO.MONTHLY.EUR_29,"EUR_29"),(0,o._)(n,d.rg.PRO.MONTHLY.GBP_29,"GBP_29"),(0,o._)(n,d.rg.PRO.MONTHLY.USD_39,"USD_39"),(0,o._)(n,d.rg.PRO.YEARLY.USD_22,"USD_22"),(0,o._)(n,d.rg.PRO.YEARLY.EUR_22,"EUR_22"),(0,o._)(n,d.rg.PRO.YEARLY.GBP_22,"GBP_22"),(0,o._)(n,d.rg.PRO.YEARLY.USD_29,"USD_29"),(0,o._)(n,d.Ez.MONTHLY.USD_39,"USD_39"),(0,o._)(n,d.Ez.MONTHLY.EUR_39,"EUR_39"),(0,o._)(n,d.Ez.MONTHLY.GBP_39,"GBP_39"),(0,o._)(n,d.Ez.MONTHLY.USD_49,"USD_49"),(0,o._)(n,d.Ez.YEARLY.USD_468,"USD_468"),(0,o._)(n,d.Ez.YEARLY.EUR_468,"EUR_468"),(0,o._)(n,d.Ez.YEARLY.GBP_468,"GBP_468"),(0,o._)(n,d.Ez.YEARLY.USD_470,"USD_470"),n)[r]]};r.Z=function(){var e,r=(0,c.aC)().userInfo,n=(0,S.usePricing)(),t=n.country;n.isGeoLoading;var a=(0,E.T_)("components.plans"),u=(0,y.j)().experiments,o=(0,T.yY)({teamPlanId:null==r?void 0:r.enterpriseId,adminEmail:null==r?void 0:r.email},{skip:!(null==r?void 0:r.enterpriseId)||!(null==r?void 0:r.email)}),g=o.data;o.isLoading,o.error;var h=(0,i._)((0,l.useState)(!1),2),P=h[0],I=h[1],L=(0,i._)((0,l.useState)({}),2),C=L[0],O=L[1],N=(0,i._)((0,l.useState)(null),2),b=N[0],U=N[1],Y=(0,i._)((0,l.useState)(null),2),q=Y[0],M=Y[1],w=(0,i._)((0,l.useState)(null),2),G=w[0],F=w[1],V=(0,i._)((0,l.useState)(!1),2),H=V[0],B=V[1],x=(0,i._)((0,l.useState)(null),2),z=x[0],W=x[1],Q=(0,i._)((0,l.useState)(null),2),j=Q[0],K=Q[1],k=(0,i._)((0,l.useState)(null),2),J=k[0],X=k[1],Z=(0,i._)((0,l.useState)(null),2),$=Z[0],ee=Z[1],er=(0,v.nl)(null==r?void 0:r.subscriptionPlanId,t),en=null==er?void 0:er.symbol;return(0,l.useEffect)(function(){var e,n=null===(e=u[f.YN.UXP_18])||void 0===e?void 0:e.variant;r?K(r.uxp18Variant):K(n)},[r]),(0,l.useEffect)(function(){var e,n=(null===(e=u[f.YN.UXP_39])||void 0===e?void 0:e.variant)||f.ZC.UXP_39.CONTROL;(null==r?void 0:r.uxp39Variant)?(X(r.uxp39Variant),ee(r.uxp39StandardVariant)):(null==r?void 0:r.subscriptionPlanId)?(X("control"),ee("control")):(X(n),ee(n))},[r,u]),(0,l.useEffect)(function(){if(r&&r.subscriptionPlanId){var e=r.subscriptionPlanId;if(r&&r.nextSubscriptionPlanId&&(r.nextSubscriptionPlanId!==e||r.isEnterpriseAdmin)){B(!0);var n=r.nextSubscriptionPlanId;m.has(n)?F(d.wT.PRO_MONTHLY):R.has(n)?F(d.wT.PRO_YEARLY):_[d.wT.PRO_MONTHLY].has(n)?F(d.wT.PRO_MONTHLY):_[d.wT.PRO_YEARLY].has(n)?F(d.wT.PRO_YEARLY):_[d.wT.STANDARD_MONTHLY].has(n)?F(d.wT.STANDARD_MONTHLY):_[d.wT.STANDARD_YEARLY].has(n)?F(d.wT.STANDARD_YEARLY):_[d.wT.TEAM_MONTHLY].has(n)?F(d.wT.TEAM_MONTHLY):_[d.wT.TEAM_YEARLY].has(n)?F(d.wT.TEAM_YEARLY):F(d.wT.FREE)}if(m.has(e))I(!0),W(D[e]),M(d.wT.PRO_MONTHLY),O((0,p.q)({activeBillingPeriod:d.bm.MONTHLY,includeFree:!1,uxp18Variant:j,uxpPricingUsVariant:J,uxp39StandardVariant:$,country:t,purchasePriceId:e}).find(function(e){return e.planLevel===d.wT.PRO_MONTHLY})),U(d.bm.MONTHLY);else if(R.has(e))I(!0),W(D[e]),M(d.wT.PRO_YEARLY),O((0,p.q)({activeBillingPeriod:d.bm.YEARLY,includeFree:!1,uxp18Variant:j,uxpPricingUsVariant:J,uxp39StandardVariant:$,country:t,purchasePriceId:e}).find(function(e){return e.planLevel===d.wT.PRO_YEARLY})),U(d.bm.YEARLY);else if(_[d.wT.PRO_MONTHLY].has(e))I(!1),M(d.wT.PRO_MONTHLY),O((0,p.q)({activeBillingPeriod:d.bm.MONTHLY,includeFree:!1,uxp18Variant:j,uxpPricingUsVariant:J,uxp39StandardVariant:$,country:t,purchasePriceId:e}).find(function(e){return e.planLevel===d.wT.PRO_MONTHLY})),U(d.bm.MONTHLY);else if(_[d.wT.PRO_YEARLY].has(e))I(!1),M(d.wT.PRO_YEARLY),O((0,p.q)({activeBillingPeriod:d.bm.YEARLY,includeFree:!1,uxp18Variant:j,uxpPricingUsVariant:J,uxp39StandardVariant:$,country:t,purchasePriceId:e}).find(function(e){return e.planLevel===d.wT.PRO_YEARLY})),U(d.bm.YEARLY);else if(_[d.wT.STANDARD_MONTHLY].has(e))I(!1),M(d.wT.STANDARD_MONTHLY),O((0,p.q)({activeBillingPeriod:d.bm.MONTHLY,includeFree:!1,uxp18Variant:j,uxpPricingUsVariant:J,uxp39StandardVariant:$,country:t,purchasePriceId:e}).find(function(e){return e.planLevel===d.wT.STANDARD_MONTHLY})),U(d.bm.MONTHLY);else if(_[d.wT.STANDARD_YEARLY].has(e))I(!1),M(d.wT.STANDARD_YEARLY),O((0,p.q)({activeBillingPeriod:d.bm.YEARLY,includeFree:!1,uxp18Variant:j,uxpPricingUsVariant:J,uxp39StandardVariant:$,country:t,purchasePriceId:e}).find(function(e){return e.planLevel===d.wT.STANDARD_YEARLY})),U(d.bm.YEARLY);else if(_[d.wT.TEAM_MONTHLY].has(e)){var a,u,o,i,s,l,c,E,y,S,T,v,A=(0,d.vO)(J===f.ZC.UXP_39.VARIANT);I(!1),M(d.wT.TEAM_MONTHLY),O({planId:null==r?void 0:r.enterpriseId,planLevel:d.wT.TEAM_MONTHLY,seats:null==g?void 0:null===(u=g.data)||void 0===u?void 0:null===(a=u.teamPlan)||void 0===a?void 0:a.seats,price:((null==g?void 0:null===(i=g.data)||void 0===i?void 0:null===(o=i.teamPlan)||void 0===o?void 0:o.seats)*A.MONTHLY_PRICE_PER_SEAT).toFixed(0),isYearly:!1,currency:en,paymentUrl:(null==g?void 0:null===(l=g.data)||void 0===l?void 0:null===(s=l.teamPlan)||void 0===s?void 0:s.paymentUrl)||"",titleClass:(null==g?void 0:null===(E=g.data)||void 0===E?void 0:null===(c=E.teamPlan)||void 0===c?void 0:c.titleClass)||"",creditsNumb:(null==g?void 0:null===(S=g.data)||void 0===S?void 0:null===(y=S.teamPlan)||void 0===y?void 0:y.creditsNumb)||"",screensNumb:(null==g?void 0:null===(v=g.data)||void 0===v?void 0:null===(T=v.teamPlan)||void 0===T?void 0:T.screensNumb)||"",tagLine:"For businesses, teams, and organizations"}),U(d.bm.MONTHLY)}else if(_[d.wT.TEAM_YEARLY].has(e)){var h,P,L,C,N,b,Y,q,w,G,V,H,x=(0,d.vO)(J===f.ZC.UXP_39.VARIANT);I(!1),M(d.wT.TEAM_YEARLY),O({planId:null==r?void 0:r.enterpriseId,planLevel:d.wT.TEAM_YEARLY,seats:null==g?void 0:null===(P=g.data)||void 0===P?void 0:null===(h=P.teamPlan)||void 0===h?void 0:h.seats,price:((null==g?void 0:null===(C=g.data)||void 0===C?void 0:null===(L=C.teamPlan)||void 0===L?void 0:L.seats)*x.YEARLY_PRICE_PER_SEAT/12).toFixed(2),isYearly:!0,currency:en,paymentUrl:(null==g?void 0:null===(b=g.data)||void 0===b?void 0:null===(N=b.teamPlan)||void 0===N?void 0:N.paymentUrl)||"",titleClass:(null==g?void 0:null===(q=g.data)||void 0===q?void 0:null===(Y=q.teamPlan)||void 0===Y?void 0:Y.titleClass)||"",creditsNumb:(null==g?void 0:null===(G=g.data)||void 0===G?void 0:null===(w=G.teamPlan)||void 0===w?void 0:w.creditsNumb)||"",screensNumb:(null==g?void 0:null===(H=g.data)||void 0===H?void 0:null===(V=H.teamPlan)||void 0===V?void 0:V.screensNumb)||"",tagLine:"For businesses, teams, and organizations"}),U(d.bm.YEARLY)}else I(!1),M(d.wT.FREE),O((0,p.q)({activeBillingPeriod:d.bm.MONTHLY,includeFree:!0,uxp18Variant:j,uxpPricingUsVariant:J,uxp39StandardVariant:$,country:t,purchasePriceId:e}).find(function(e){return e.planLevel===d.wT.FREE})),U(d.bm.MONTHLY)}else I(!1),M(""),O((0,p.q)({activeBillingPeriod:d.bm.MONTHLY,includeFree:!0,uxp18Variant:j,uxpPricingUsVariant:J,uxp39StandardVariant:$,country:t,purchasePriceId:null}).find(function(e){return e.planLevel===d.wT.FREE})),U(d.bm.MONTHLY)},[r,null==r?void 0:r.subscriptionPlanId,null==r?void 0:r.planType,null==r?void 0:r.nextSubscriptionPlanId,j,J,$,null==g?void 0:null===(e=g.data)||void 0===e?void 0:e.teamPlan]),{isLegacyUser:P,myPlanLevel:q,currentPlan:C,myPlanDuration:b,findSubscriptionCTAText:function(e,n){var t,u,o=null===(t=Object.entries(_).find(function(r){var n=(0,i._)(r,2);return(n[0],n[1]).has(e)}))||void 0===t?void 0:t[0];if(H&&G&&e){var s=A[o]-A[G];return e===(null==r?void 0:r.subscriptionPlanId)?a("planCard.activePlan"):s>0?a("planCard.upgrade"):s<0?a("planCard.downgrade"):a("planCard.activeOnNextBilling")}if(!o&&!e)return r&&(null==r?void 0:null===(u=r.counters)||void 0===u?void 0:u.planCredits)?n?a("planCard.upgradeToPro"):a("planCard.activePlan"):a("planCard.startFree");if(!o||!q)return a("planCard.startWith");var l=A[o]-A[q];return l>0?a("planCard.upgrade"):l<0?a("planCard.downgrade"):a("planCard.activePlan")},confirmationModalText:function(e,n){var isYearlyPlan=function(e){return _[d.wT.PRO_YEARLY].has(e)||_[d.wT.STANDARD_YEARLY].has(e)||_[d.wT.TEAM_YEARLY].has(e)},isProPlan=function(e){return _[d.wT.PRO_YEARLY].has(e)||_[d.wT.PRO_MONTHLY].has(e)},isTeamPlan=function(e){return _[d.wT.TEAM_YEARLY].has(e)||_[d.wT.TEAM_MONTHLY].has(e)},a=isYearlyPlan(e)?"yearly":"monthly",u=_[d.wT.TEAM_YEARLY].has(e)?"Team":isProPlan(e)?"Pro":"Standard",o=(0,p.q)({activeBillingPeriod:isYearlyPlan(e)?d.bm.YEARLY:d.bm.MONTHLY,includeFree:!1,uxp18Variant:j,uxpPricingUsVariant:J,uxp39StandardVariant:$,country:t,purchasePriceId:e}).find(function(r){return r.planLevel===(isTeamPlan(e)?isYearlyPlan(e)?d.wT.TEAM_YEARLY:d.wT.TEAM_MONTHLY:isProPlan(e)?isYearlyPlan(e)?d.wT.PRO_YEARLY:d.wT.PRO_MONTHLY:isYearlyPlan(e)?d.wT.STANDARD_YEARLY:d.wT.STANDARD_MONTHLY)}),l=isYearlyPlan(e)?(getPriceValue(o.planLevel,e)*(isTeamPlan(e)?n||0:12)).toFixed(2):getPriceValue(o.planLevel,e).toFixed(2),c=(l-(P?z:(((null==C?void 0:C.price)||0)*(b===d.bm.YEARLY?12:1)).toFixed(2))).toFixed(2),E=isYearlyPlan(e)?"".concat(o.currency).concat(l,"/year"):"".concat(o.currency).concat(o.price,"/month"),f=c>0?"".concat(o.currency).concat(c):"-".concat(o.currency).concat(Math.abs(c)),y=isYearlyPlan(e)?(0,s.jsx)(s.Fragment,{}):null;if(q===d.wT.FREE)return(0,s.jsxs)("span",{className:"text-sm",children:["You are upgrading to ",(0,s.jsx)("b",{children:u})," plan with ",(0,s.jsx)("b",{children:a})," billing at"," ",(0,s.jsx)("b",{children:E}),". This will give you access to all ",(0,s.jsx)("b",{children:u})," features immediately.",y]});var S=null===(g=Object.entries(_).find(function(r){var n=(0,i._)(r,2);return(n[0],n[1]).has(e)}))||void 0===g?void 0:g[0],T=A[S]-A[q];if(T>0)return(0,s.jsxs)("span",{className:"text-sm",children:["You are upgrading to ",(0,s.jsx)("b",{children:u})," plan with ",(0,s.jsx)("b",{children:a})," billing at"," ",(0,s.jsx)("b",{children:E}),". You will be paying adjusted amount of"," ",(0,s.jsx)("b",{children:f}),". This will give you access to all ",(0,s.jsx)("b",{children:u})," ","features immediately.",y]});if(T<0){var v=q===d.wT.TEAM_MONTHLY||q===d.wT.TEAM_YEARLY,m=S===d.wT.TEAM_MONTHLY||S===d.wT.TEAM_YEARLY;if(!v&&!m){var R=0,D=0;if(null==r?void 0:r.subscriptionRenewalDate){var g,h,I=new Date;if((h=new Date(r.subscriptionRenewalDate._seconds?1e3*r.subscriptionRenewalDate._seconds:r.subscriptionRenewalDate))>I){var L=b===d.bm.YEARLY?365:30,O=Math.ceil((h-I)/864e5),N=P?z||0:(null==C?void 0:C.price)?parseFloat(C.price):0,U=b===d.bm.YEARLY?12*N:N;D=O/L*U-l,R=O/L*U}}var Y=D>=0?"".concat(o.currency,"0.00"):"".concat(o.currency).concat(Math.abs(l-R).toFixed(2)),M=D>0?"".concat(o.currency).concat(D.toFixed(2)):"".concat(o.currency,"0.00");return(0,s.jsxs)("span",{className:"text-sm",children:["You are downgrading to ",(0,s.jsx)("b",{children:u})," plan with ",(0,s.jsx)("b",{children:a})," billing at"," ",(0,s.jsxs)("b",{children:[o.currency,l]}),". You will be charged ",(0,s.jsx)("b",{children:Y})," now."," ",D>0?"The remaining amount of ".concat(M," will be\n            adjusted in your future billing."):""]})}return(0,s.jsxs)("span",{className:"text-sm",children:["You are downgrading to ",(0,s.jsx)("b",{children:u})," plan with ",(0,s.jsx)("b",{children:a})," billing at"," ",(0,s.jsxs)("b",{children:[o.currency,l]}),". Downgrading will take effect on next billing cycle."]})}return 0===T&&q!==S?(0,s.jsxs)("span",{className:"text-sm",children:["You are changing to ",(0,s.jsx)("b",{children:a})," billing at ",(0,s.jsx)("b",{children:E}),". The price difference is ",(0,s.jsx)("b",{children:f}),". This change will take effect immediately and we'll adjust your existing subscription payment.",y]}):(0,s.jsx)("span",{className:"text-sm",children:"Are you sure you want to proceed?"})},planChanged:H,legacyPlanPrice:z}}},97668:function(e,r,n){n.d(r,{R:function(){return useTrialDaysLeft}});var t=n(2265),useTrialDaysLeft=function(e){return(0,t.useMemo)(function(){if(!e)return 0;var r=new Date(e),n=new Date,t=new Date(r.getTime()+6048e5).getTime()-n.getTime();return t>0?Math.ceil(t/864e5):0},[e])}},79590:function(e,r,n){n.d(r,{PK:function(){return s},VN:function(){return l},ug:function(){return c}});var t=n(85687),a=n(16958),u=n(65800),o=n(43003),i=n(90012),s=(0,t.LC)({reducerPath:a.V.USER_IMAGE,baseQuery:u.hK,tagTypes:["UserImages"],endpoints:function(e){return{getAllImages:e.query({query:function(){return{url:o.z.GET_ALL_IMAGES,method:"GET"}},providesTags:["UserImages"],transformResponse:function(e){return e},transformErrorResponse:i.z}),addNewImage:e.mutation({query:function(e){var r=e.url;return{url:o.z.ADD_NEW_IMAGE,method:"POST",body:{url:r}}},invalidatesTags:["UserImages"],transformResponse:function(e){return e},transformErrorResponse:i.z}),deleteImage:e.mutation({query:function(e){return{url:"".concat(o.z.DELETE_IMAGE,"/").concat(e),method:"DELETE"}},invalidatesTags:["UserImages"],transformResponse:function(e){return e},transformErrorResponse:i.z})}}}),l=s.useGetAllImagesQuery,c=(s.useAddNewImageMutation,s.useDeleteImageMutation)},43003:function(e,r,n){n.d(r,{z:function(){return t}});var t={GET_ALL_IMAGES:"/user/image",ADD_NEW_IMAGE:"/user/image",DELETE_IMAGE:"/user/image"}},42776:function(e,r,n){n.d(r,{NQ:function(){return E},QR:function(){return c},VH:function(){return d},j1:function(){return p},xU:function(){return l}});var t=n(41369),a=n(85687),u=n(65800),o=n(16958),i=n(60861),s=n(90012),l=(0,a.LC)({reducerPath:o.V.CHAT,baseQuery:u.hK,tagTypes:[o.q.CHAT_MESSAGES,o.q.CHAT_CONVERSATIONS],endpoints:function(e){return{getConversations:e.query({query:function(e){var r=e.pageId,n=e.userId,t=e.limit,a=void 0===t?20:t,u=new URLSearchParams;return r&&u.append("pageId",r),n&&u.append("userId",n),a&&u.append("limit",a.toString()),{url:"".concat(i.qf.CONVERSATIONS).concat(u.toString()?"?".concat(u.toString()):""),method:"GET"}},transformErrorResponse:s.z,providesTags:[o.q.CHAT_CONVERSATIONS]}),getConversationMessages:e.query({query:function(e){var r=e.conversationId,n=e.limit,t=e.offset,a=void 0===t?0:t;return{url:i.qf.CONVERSATION_MESSAGES.replace(":conversationId",r)+"?limit=".concat(void 0===n?200:n,"&offset=").concat(a),method:"GET"}},transformErrorResponse:s.z,providesTags:function(e,r,n){var t=n.conversationId;return[{type:o.q.CHAT_MESSAGES,id:t}]}}),deleteConversation:e.mutation({query:function(e){var r=e.conversationId;return{url:i.qf.DELETE_CONVERSATION.replace(":conversationId",r),method:"DELETE"}},transformErrorResponse:s.z,invalidatesTags:[o.q.CHAT_CONVERSATIONS]}),renameConversation:e.mutation({query:function(e){var r=e.conversationId,n=e.title,a=e.pageId;return{url:i.qf.RENAME_CONVERSATION.replace(":conversationId",r),method:"PATCH",body:(0,t._)({title:n},a?{pageId:a}:{})}},transformErrorResponse:s.z,invalidatesTags:function(e,r,n){var t=n.conversationId;return[o.q.CHAT_CONVERSATIONS,{type:o.q.CHAT_MESSAGES,id:t}]}})}}}),c=l.useGetConversationsQuery,d=l.useGetConversationMessagesQuery,p=l.useDeleteConversationMutation,E=l.useRenameConversationMutation},60861:function(e,r,n){n.d(r,{RZ:function(){return a},bh:function(){return u},qf:function(){return t}});var t={STREAM:"/api/agentic/stream",CONVERSATIONS:"/api/agentic/conversations",CONVERSATION_MESSAGES:"/api/agentic/conversations/:conversationId/messages",DELETE_CONVERSATION:"/api/agentic/conversations/:conversationId",RENAME_CONVERSATION:"/api/agentic/conversations/:conversationId"},a={FETCH_CONVERSATIONS_ERROR:"Failed to fetch conversations",FETCH_MESSAGES_ERROR:"Failed to fetch messages for this conversation",STREAM_ERROR:"Error occurred while streaming the response",PERSISTENCE_ERROR:"Failed to save chat state"},u={INIT:"init",STATUS:"status",CONTENT:"content",COMPLETE:"complete",ERROR:"error",UI_CREATED:"ui_created",UI_PREVIEW:"ui_preview",UI_FAILED:"ui_failed",FLOW_LIST_GENERATED:"flow_list_generated",FLOW_SCREENS_INITIALIZED:"flow_screens_initialized",FLOW_SCREEN_GENERATING:"flow_screen_generating",FLOW_SCREEN_COMPLETED:"flow_screen_completed",TITLE_GENERATED:"title_generated"}},61841:function(e,r,n){n.d(r,{Qu:function(){return c},Tm:function(){return p},iC:function(){return d},nY:function(){return E},uW:function(){return l}});var t=n(44313),a=n(85687),u=n(90012),o=n(65800),i=n(16958),s=n(12991),l=(0,a.LC)({reducerPath:i.V.CANVAS_ASSETS,baseQuery:o.hK,tagTypes:[i.q.CANVAS_ASSETS,i.q.PAGES,i.q.WIREFRAMES],endpoints:function(e){return{getCanvasAssetsByPage:e.query({query:function(e){var r=e.pageId;if(!r||null===r||""===r.trim())throw console.error("❌ Invalid pageId provided to getCanvasAssetsByPage:",r),Error("Invalid pageId provided to getCanvasAssetsByPage");return{url:"".concat(s.q.GET_CANVAS_ASSETS_ON_PAGE,"/").concat(r),method:"GET"}},transformResponse:function(e){return e},transformErrorResponse:u.z,keepUnusedDataFor:300}),createCanvasAsset:e.mutation({query:function(e){var r=e.pageId,n=e.uid,t=e.props,a=e.file;if(!r||null===r||""===r.trim())throw Error("Invalid pageId provided to createCanvasAsset");if(!n||null===n)throw Error("Invalid uid provided to createCanvasAsset");var u=new FormData;return u.append("pageId",r),u.append("uid",n),u.append("props",JSON.stringify(t)),u.append("file",a),{url:"".concat(s.q.CREATE_CANVAS_ASSET),method:"POST",body:u}}}),deleteCanvasAsset:e.mutation({query:function(e){var r=e.assetId,n=e.uid,t=e.pageId;return{url:"".concat(s.q.DELETE_CANVAS_ASSET,"/").concat(r,"?uid=").concat(n,"&pageId=").concat(t),method:"DELETE"}},transformResponse:function(e){return e},transformErrorResponse:u.z,invalidatesTags:function(e,r,n){var a=n.assetId,u=n.pageId;return[{type:i.q.CANVAS_ASSETS,id:a}].concat((0,t._)(u?[{type:i.q.PAGES,id:u}]:[]),[{type:i.q.CANVAS_ASSETS,id:"LIST"}])}}),getCanvasAssetById:e.query({query:function(e){var r=e.assetId;return{url:"".concat(s.q.GET_CANVAS_ASSET_BY_ID,"/").concat(r),method:"GET"}},transformResponse:function(e){return e},transformErrorResponse:u.z,keepUnusedDataFor:300})}}});l.useGetCanvasAssetsByPageQuery;var c=l.useCreateCanvasAssetMutation,d=l.useLazyGetCanvasAssetsByPageQuery,p=(l.useGetCanvasAssetByIdQuery,l.useLazyGetCanvasAssetByIdQuery),E=l.useDeleteCanvasAssetMutation},82924:function(e,r,n){n.d(r,{Av:function(){return y},Zt:function(){return S},fo:function(){return E},ic:function(){return _},jf:function(){return T},og:function(){return f},vm:function(){return v}});var t=n(45610),a=n(41369),u=n(43654),o=n(44313),i=n(50044),s=n(85687),l=n(90012),c=n(65800),d=n(16958),p=n(12991),E=(0,s.LC)({reducerPath:d.V.CANVAS_SHAPES,baseQuery:c.hK,tagTypes:[d.q.CANVAS_SHAPES,d.q.PAGES,d.q.WIREFRAMES],endpoints:function(e){return{getCanvasShapesByPage:e.query({query:function(e){var r=e.pageId;if(!r||"null"===r||"undefined"===r||""===r.trim())throw console.error("❌ Invalid pageId provided to getCanvasShapesByPage:",r),Error("Invalid pageId provided to getCanvasShapesByPage");return{url:"".concat(p.q.GET_CANVAS_SHAPES_BY_PAGE,"/").concat(r),method:"GET"}},transformResponse:function(e){return e},transformErrorResponse:l.z,providesTags:function(e,r,n){var t,a=n.pageId;return[{type:d.q.PAGES,id:a},{type:d.q.CANVAS_SHAPES,id:"LIST"}].concat((0,o._)((null==e?void 0:null===(t=e.shapes)||void 0===t?void 0:t.map(function(e){var r=e.id;return{type:d.q.CANVAS_SHAPES,id:r}}))||[]))},keepUnusedDataFor:300}),getCanvasShapeById:e.query({query:function(e){var r=e.shapeId;if(!r||null===r)throw console.error("❌ Invalid shapeId provided to getCanvasShapeById:",r),Error("Invalid shapeId provided to getCanvasShapeById");return{url:"".concat(p.q.GET_CANVAS_SHAPE_BY_ID,"/").concat(r),method:"GET"}},transformResponse:function(e){return e},transformErrorResponse:l.z,providesTags:function(e,r,n){var t=n.shapeId;return[{type:d.q.CANVAS_SHAPES,id:t}]},keepUnusedDataFor:180}),createCanvasShape:e.mutation({query:function(e){var r=e.pageId,n=e.props,t=e.type;if(!r||null===r||""===r.trim())throw console.error("❌ Invalid pageId provided to createCanvasShape:",r),Error("Invalid pageId provided to createCanvasShape");return{url:p.q.GET_CANVAS_SHAPE_BY_ID,method:"POST",body:{pageId:r,props:n,type:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}},transformResponse:function(e){return e},transformErrorResponse:l.z,invalidatesTags:function(e,r,n){var t=n.pageId,a=[{type:d.q.CANVAS_SHAPES,id:"LIST"},{type:d.q.PAGES,id:t}];return(null==e?void 0:e.shape)&&!r&&a.push({type:d.q.CANVAS_SHAPES,id:e.shape.id}),a}}),updateCanvasShape:e.mutation({query:function(e){var r=e.shapeId,n=e.data;return{url:"".concat(p.q.UPDATE_CANVAS_SHAPE,"/").concat(r),method:"PUT",body:n}},transformResponse:function(e){return e},transformErrorResponse:l.z,onQueryStarted:function(e,r){var n=e.shapeId,o=e.data,s=r.dispatch,l=r.queryFulfilled,c=r.getState;return(0,t._)(function(){var e,r,t,d,p,f,y;return(0,i.Jh)(this,function(i){switch(i.label){case 0:if(!n||null===n||""===n)return[2];(e=Object.values(c()).find(function(e){return(null==e?void 0:e.queries)&&Object.values(e.queries).some(function(e){var r,t;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(r=t.shapes)||void 0===r?void 0:r.find(function(e){return e.id===n})})}))&&(r=null==(f=Object.values(e.queries).find(function(e){var r,t;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(r=t.shapes)||void 0===r?void 0:r.find(function(e){return e.id===n})}))?void 0:null===(p=f.data)||void 0===p?void 0:null===(d=p.shapes)||void 0===d?void 0:null===(t=d.find(function(e){return e.id===n}))||void 0===t?void 0:t.pageId),r&&"null"!==r&&"undefined"!==r&&(y=s(E.util.updateQueryData("getCanvasShapesByPage",{pageId:r},function(e){var r,t=null===(r=e.shapes)||void 0===r?void 0:r.findIndex(function(e){return e.id===n});void 0!==t&&t>=0&&e.shapes&&(o.props&&(e.shapes[t].props=(0,a._)({},e.shapes[t].props,o.props)),Object.assign(e.shapes[t],(0,u._)((0,a._)({},o),{updatedAt:new Date().toISOString()})))}))),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,l];case 2:return i.sent(),[3,4];case 3:return i.sent(),y&&y.undo(),[3,4];case 4:return[2]}})})()},invalidatesTags:function(e,r,n){var t=n.shapeId,a=[{type:d.q.CANVAS_SHAPES,id:"LIST"}];return e&&!r&&a.push({type:d.q.CANVAS_SHAPES,id:t}),a}}),deleteCanvasShape:e.mutation({query:function(e){var r=e.shapeId;return{url:"".concat(p.q.DELETE_CANVAS_SHAPE,"/").concat(r),method:"DELETE",validateStatus:function(e){return 404===e.status||e.status>=200&&e.status<300}}},transformResponse:function(e,r){var n;return(null==r?void 0:null===(n=r.response)||void 0===n?void 0:n.status)===404?{status:"success",message:"Shape already deleted"}:e},transformErrorResponse:l.z,onQueryStarted:function(e,r){var n=e.shapeId,a=e.pageId,u=r.dispatch,o=r.queryFulfilled;return r.getState,(0,t._)(function(){var e;return(0,i.Jh)(this,function(r){switch(r.label){case 0:a&&null!==a&&(e=u(E.util.updateQueryData("getCanvasShapesByPage",{pageId:a},function(e){e.shapes&&(e.shapes=e.shapes.filter(function(e){return e.id!==n}))}))),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o];case 2:return r.sent(),[3,4];case 3:return r.sent(),e&&e.undo(),[3,4];case 4:return[2]}})})()},invalidatesTags:function(e,r,n){var t=n.shapeId,a=n.pageId;return[{type:d.q.CANVAS_SHAPES,id:t}].concat((0,o._)(a?[{type:d.q.PAGES,id:a}]:[]),[{type:d.q.CANVAS_SHAPES,id:"LIST"}])}}),updateFlowchartShape:e.mutation({query:function(e){var r=e.shapeId,n=e.data;return{url:"".concat(p.q.UPDATE_FLOWCHART_SHAPE,"/").concat(r),method:"PUT",body:n}},transformResponse:function(e){return e},transformErrorResponse:l.z,onQueryStarted:function(e,r){var n=e.shapeId,o=e.data,s=r.dispatch,l=r.queryFulfilled,c=r.getState;return(0,t._)(function(){var e,r,t,d,p,f,y;return(0,i.Jh)(this,function(i){switch(i.label){case 0:if(!n||null===n||""===n)return[2];(e=Object.values(c()).find(function(e){return(null==e?void 0:e.queries)&&Object.values(e.queries).some(function(e){var r,t;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(r=t.shapes)||void 0===r?void 0:r.find(function(e){return e.id===n})})}))&&(r=null==(f=Object.values(e.queries).find(function(e){var r,t;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(r=t.shapes)||void 0===r?void 0:r.find(function(e){return e.id===n})}))?void 0:null===(p=f.data)||void 0===p?void 0:null===(d=p.shapes)||void 0===d?void 0:null===(t=d.find(function(e){return e.id===n}))||void 0===t?void 0:t.pageId),r&&"null"!==r&&"undefined"!==r&&(y=s(E.util.updateQueryData("getCanvasShapesByPage",{pageId:r},function(e){var r,t=null===(r=e.shapes)||void 0===r?void 0:r.findIndex(function(e){return e.id===n});void 0!==t&&t>=0&&e.shapes&&(o.props&&(e.shapes[t].props=(0,a._)({},e.shapes[t].props,o.props)),Object.assign(e.shapes[t],(0,u._)((0,a._)({},o),{updatedAt:new Date().toISOString()})))}))),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,l];case 2:return i.sent(),[3,4];case 3:return i.sent(),y&&y.undo(),[3,4];case 4:return[2]}})})()},invalidatesTags:function(e,r,n){var t=n.shapeId,a=[{type:d.q.CANVAS_SHAPES,id:"LIST"}];return e&&!r&&a.push({type:d.q.CANVAS_SHAPES,id:t}),a}}),generateFlowchart:e.mutation({query:function(e){return{url:p.q.GENERATE_FLOWCHART,method:"POST",body:e}},transformResponse:function(e){return e},transformErrorResponse:l.z}),editFlowchart:e.mutation({query:function(e){return{url:p.q.EDIT_FLOWCHART,method:"POST",body:e}},transformResponse:function(e){return e},transformErrorResponse:l.z}),updateMultipleCanvasShapes:e.mutation({query:function(e){var r=e.shapes;return{url:"".concat(p.q.UPDATE_CANVAS_SHAPE,"/batch"),method:"PUT",body:{shapes:r}}},transformResponse:function(e){return e},transformErrorResponse:l.z,invalidatesTags:function(e,r,n){var t=n.pageId;return[{type:d.q.PAGES,id:t},{type:d.q.CANVAS_SHAPES,id:"LIST"}]}}),deleteMultipleCanvasShapes:e.mutation({query:function(e){var r=e.shapeIds;return{url:"".concat(p.q.DELETE_CANVAS_SHAPE,"/batch"),method:"DELETE",body:{shapeIds:r}}},transformResponse:function(e){return e},transformErrorResponse:l.z,invalidatesTags:function(e,r,n){var t=n.pageId,a=n.shapeIds;return[{type:d.q.PAGES,id:t},{type:d.q.CANVAS_SHAPES,id:"LIST"}].concat((0,o._)(a.map(function(e){return{type:d.q.CANVAS_SHAPES,id:e}})))}})}}});E.useGetCanvasShapesByPageQuery,E.useGetCanvasShapeByIdQuery;var f=E.useCreateCanvasShapeMutation,y=E.useUpdateCanvasShapeMutation,S=(E.useUpdateFlowchartShapeMutation,E.useDeleteCanvasShapeMutation),T=(E.useUpdateMultipleCanvasShapesMutation,E.useDeleteMultipleCanvasShapesMutation,E.useGenerateFlowchartMutation),v=E.useEditFlowchartMutation,_=E.useLazyGetCanvasShapesByPageQuery;E.useLazyGetCanvasShapeByIdQuery},60659:function(e,r,n){n.d(r,{W$:function(){return T},Gh:function(){return M},_J:function(){return q},yd:function(){return w},BY:function(){return V},G7:function(){return b},Dr:function(){return g},At:function(){return U},HJ:function(){return m},PR:function(){return D},UC:function(){return _},iK:function(){return R},t7:function(){return v},L5:function(){return P},k3:function(){return Y},Be:function(){return L},wN:function(){return G},sd:function(){return F},zV:function(){return C},mj:function(){return N},Ad:function(){return O},qz:function(){return h},FK:function(){return A},Xw:function(){return I}});var t=n(45610),a=n(41369),u=n(43654),o=n(50044),i=n(85687),s=n(38597),l=n(90012),c=n(65800),d=n(12991),p=n(16958),E=n(36902),f=n(50406);function xorDecrypt(e,r){return e.split("").map(function(e,n){return String.fromCharCode(e.charCodeAt(0)^r.charCodeAt(n%r.length))}).join("")}var y=n(46095),S=n(40263).Buffer,T=(0,i.LC)({reducerPath:p.V.DESIGN,baseQuery:c.hK,tagTypes:[p.q.GENERATE,p.q.GENERATE_HIFI,p.q.GENERATE_WIREFRAMES,p.q.DESIGN_COLLECTIONS],endpoints:function(e){return{generateWireframes:e.mutation({query:function(e){return{url:d.q.GENERATE_WIREFRAMES,method:"POST",body:e}},transformResponse:function(e){return{id:e.id||e.wireframeId||e.uiId,wireframeId:e.wireframeId||e.id||e.uiId,design:e.design||e}},transformErrorResponse:l.z}),generateHiFi:e.mutation({query:function(e){return{url:d.q.GENERATE_HIFI,method:"POST",body:e}},transformResponse:function(e){return{id:e.id||e.wireframeId||e.uiId,wireframeId:e.wireframeId||e.id||e.uiId,design:e.design||e}},transformErrorResponse:l.z}),retryHiFiGeneration:e.mutation({query:function(e){return{url:d.q.RETRY_HIFI_GENERATION,method:"POST",body:e}},transformResponse:function(e){return e},transformErrorResponse:l.z}),retryWireframeGeneration:e.mutation({query:function(e){return{url:d.q.RETRY_WIREFRAMES_GENERATION,method:"POST",body:e}},transformResponse:function(e){return e},transformErrorResponse:l.z}),retryPrototypeGeneration:e.mutation({query:function(e){return{url:d.q.RETRY_PROTOTYPE_GENERATION,method:"POST",body:e}},transformResponse:function(e){return e},transformErrorResponse:l.z}),generateByFlow:e.mutation({query:function(e){return{url:d.q.GENERATE_BY_FLOW,method:"POST",body:e}},transformResponse:function(e){return!e.designs&&Array.isArray(e)?{designs:e}:e},transformErrorResponse:l.z}),generateFlow:e.mutation({query:function(e){return{url:d.q.GENERATE_USERFLOW,method:"POST",body:e}},transformErrorResponse:l.z}),generateVariations:e.mutation({query:function(e){return{url:d.q.GENERATE_VARIATIONS,method:"POST",body:e}},transformErrorResponse:l.z}),generateHeatmap:e.mutation({query:function(e){return{url:d.q.HEATMAP,method:"POST",body:e}},transformErrorResponse:l.z}),generateL1:e.mutation({query:function(e){return{url:"".concat(s.URLS.kbUrl,"/generate/l1"),method:"POST",body:e}},transformResponse:function(e){return e},transformErrorResponse:l.z}),storeSession:e.mutation({query:function(e){return{url:d.q.STORE_SESSIONS,method:"POST",body:e}},transformErrorResponse:l.z}),generateDesignsFlow:e.mutation({query:function(e){return{url:d.q.GENERATE_BY_FLOW,method:"POST",body:e}},transformResponse:function(e){return Array.isArray(null==e?void 0:e.designs)?null==e?void 0:e.designs:[]},transformErrorResponse:l.z}),generateByVariationFlow:e.mutation({query:function(e){return{url:d.q.GENERATE_BY_VARIATION_FLOW,method:"POST",body:e}},transformResponse:function(e){return Array.isArray(null==e?void 0:e.designs)?null==e?void 0:e.designs:[]},transformErrorResponse:l.z}),generateFlowEdit:e.mutation({query:function(e){return{url:d.q.GENERATE_FLOW_EDIT,method:"POST",body:e}},transformResponse:function(e){return Array.isArray(e)?e:Array.isArray(null==e?void 0:e.designs)?e.designs:[]},transformErrorResponse:l.z}),saveTextChanges:e.mutation({query:function(e){return{url:d.q.SAVE_MANUAL_EDIT_CHANGES,method:"POST",body:(0,u._)((0,a._)({},e),{updatedHtml:e.updatedHtml})}},onQueryStarted:function(e,r){var n=e.wireframeId,a=e.pageId,u=(e.updatedHtml,r.dispatch),i=r.queryFulfilled;return(0,t._)(function(){return(0,o.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i];case 1:return e.sent(),u(E.cr.util.invalidateTags([{type:p.q.WIREFRAMES,id:n},{type:p.q.WIREFRAMES,id:"LIST"}])),u(f.yk.util.invalidateTags([{type:p.q.PAGES,id:a},{type:p.q.PAGES,id:"LIST"}])),[3,3];case 2:return console.error("Failed to invalidate cache after text changes:",e.sent()),[3,3];case 3:return[2]}})})()},transformErrorResponse:l.z}),getDesignCollections:e.query({query:function(e){var r=e.uid;return{url:"".concat(d.q.GET_DESIGN_COLLECTIONS,"/").concat(r),method:"GET"}},transformResponse:function(e){return e.encryptedData?JSON.parse(xorDecrypt(S.from(e.encryptedData,"base64").toString("binary"),y.GF)):e},transformErrorResponse:l.z}),updateCollectionSharing:e.mutation({query:function(e){var r=e.uid,n=e.collectionName,t=e.sharedEmails,a=e.sharedWithTeam;return{url:"".concat(d.q.UPDATE_COLLECTION_SHARING,"/").concat(r,"/").concat(encodeURIComponent(n)),method:"PUT",body:{sharedEmails:t,sharedWithTeam:a}}},invalidatesTags:function(e,r,n){var t=n.collectionName;return[{type:p.q.DESIGN_COLLECTIONS,id:t},{type:p.q.DESIGN_COLLECTIONS,id:"LIST"}]},transformErrorResponse:l.z}),getSharedEmails:e.query({query:function(e){var r=e.uid,n=e.collectionName;return{url:"".concat(d.q.GET_SHARED_EMAILS,"/").concat(r,"/").concat(encodeURIComponent(n)),method:"GET"}},transformResponse:function(e){return e.encryptedData?JSON.parse(xorDecrypt(S.from(e.encryptedData,"base64").toString("binary"),y.GF)):e},transformErrorResponse:l.z}),inviteUsers:e.mutation({query:function(e){var r=e.ownerUid,n=e.collectionName,t=e.emails;return{url:"".concat(d.q.INVITE_USERS,"/").concat(r,"/").concat(encodeURIComponent(n)),method:"POST",body:{emails:t}}},invalidatesTags:[p.q.DESIGN_COLLECTIONS],transformErrorResponse:l.z}),getPendingInvitations:e.query({query:function(e){var r=e.userUid;return{url:"".concat(d.q.GET_PENDING_INVITATIONS,"/").concat(r),method:"GET"}},transformResponse:function(e){return e.encryptedData?JSON.parse(xorDecrypt(S.from(e.encryptedData,"base64").toString("binary"),y.GF)):e},transformErrorResponse:l.z}),acceptInvitation:e.mutation({query:function(e){var r=e.ownerUid,n=e.collectionName,t=e.userUid;return{url:"".concat(d.q.ACCEPT_INVITATION,"/").concat(r,"/").concat(encodeURIComponent(n)),method:"POST",body:{userUid:t}}},invalidatesTags:[p.q.DESIGN_COLLECTIONS],transformErrorResponse:l.z}),acceptAllInvitations:e.mutation({query:function(e){var r=e.userUid;return{url:d.q.ACCEPT_ALL_INVITATIONS,method:"POST",body:{userUid:r}}},invalidatesTags:[p.q.DESIGN_COLLECTIONS],transformErrorResponse:l.z}),declineInvitation:e.mutation({query:function(e){var r=e.ownerUid,n=e.collectionName,t=e.userUid;return{url:"".concat(d.q.DECLINE_INVITATION,"/").concat(r,"/").concat(encodeURIComponent(n)),method:"POST",body:{userUid:t}}},transformErrorResponse:l.z}),removeAccess:e.mutation({query:function(e){var r=e.uid,n=e.ownerUid,t=e.collectionName,a=e.emailToRemove;return{url:"".concat(d.q.REMOVE_ACCESS,"/").concat(r,"/").concat(n,"/").concat(encodeURIComponent(t)),method:"POST",body:{emailToRemove:a}}},invalidatesTags:[p.q.DESIGN_COLLECTIONS],transformErrorResponse:l.z}),renameCollection:e.mutation({query:function(e){var r=e.uid,n=e.oldCollectionName,t=e.newCollectionName;return{url:"".concat(d.q.RENAME_COLLECTION,"/").concat(r,"/").concat(encodeURIComponent(n)),method:"PUT",body:{newCollectionName:t}}},invalidatesTags:[p.q.DESIGN_COLLECTIONS],transformErrorResponse:l.z}),deleteCollection:e.mutation({query:function(e){var r=e.uid,n=e.collectionName;return{url:"".concat(d.q.DELETE_COLLECTION,"/").concat(r,"/").concat(encodeURIComponent(n)),method:"DELETE"}},invalidatesTags:[p.q.DESIGN_COLLECTIONS],transformErrorResponse:l.z})}}}),v=T.useGenerateWireframesMutation,_=T.useGenerateHiFiMutation,m=(T.useGenerateByFlowMutation,T.useGenerateFlowMutation),R=T.useGenerateVariationsMutation,D=T.useGenerateHeatmapMutation,A=(T.useGenerateL1Mutation,T.useStoreSessionMutation),g=T.useGenerateDesignsFlowMutation,h=T.useSaveTextChangesMutation,P=T.useGetDesignCollectionsQuery,I=T.useUpdateCollectionSharingMutation,L=T.useGetSharedEmailsQuery,C=T.useRetryHiFiGenerationMutation,O=T.useRetryWireframeGenerationMutation,N=T.useRetryPrototypeGenerationMutation,b=T.useGenerateByVariationFlowMutation,U=T.useGenerateFlowEditMutation,Y=(T.useInviteUsersMutation,T.useGetPendingInvitationsQuery),q=T.useAcceptInvitationMutation,M=T.useAcceptAllInvitationsMutation,w=T.useDeclineInvitationMutation,G=T.useRemoveAccessMutation,F=T.useRenameCollectionMutation,V=T.useDeleteCollectionMutation},52668:function(e,r,n){n.d(r,{J7:function(){return l},LJ:function(){return E},e7:function(){return p},kV:function(){return d},zX:function(){return c}});var t=n(44313),a=n(85687),u=n(90012),o=n(65800),i=n(16958),s=n(12991),l=(0,a.LC)({reducerPath:i.V.EXPORTS,baseQuery:o.hK,tagTypes:[i.q.EXPORTS,i.q.GROUPS,i.q.WIREFRAMES,i.q.PAGES,i.q.SAVED_WIREFRAMES,i.q.PREVIEW,i.q.PREVIEWS],endpoints:function(e){return{getPreview:e.query({query:function(e){return{url:"".concat(s.q.EXPORTS.PREVIEW),method:"POST",body:{wireframeId:e}}},providesTags:function(e){return[{type:i.q.PREVIEW,id:null==e?void 0:e.id}]},keepUnusedDataFor:0}),getBatchPreviews:e.query({query:function(e){var r=e.wireframeIds;return{url:"".concat(s.q.EXPORTS.BATCH_PREVIEWS),method:"POST",body:{wireframeIds:r}}},providesTags:function(e){return[{type:i.q.PREVIEWS,id:"batch"}].concat((0,t._)(((null==e?void 0:e.previews)||[]).map(function(e){return{type:i.q.PREVIEW,id:e.wireframeId}})))},keepUnusedDataFor:0}),exportSingle:e.mutation({query:function(e){var r=e.wireframeId,n=e.exportType,t=e.options,a=e.filename;return{url:"".concat(s.q.EXPORTS.SINGLE),method:"POST",body:{wireframeId:r,exportType:n,options:t,filename:a}}},invalidatesTags:[i.q.EXPORTS],transformErrorResponse:u.z}),exportBatch:e.mutation({query:function(e){var r=e.wireframeIds,n=e.exportType,t=e.options,a=e.filename;return{url:"".concat(s.q.EXPORTS.BATCH),method:"POST",body:{wireframeIds:r,exportType:n,options:t,filename:a}}},invalidatesTags:[i.q.EXPORTS],transformErrorResponse:u.z})}}}),c=l.useGetPreviewQuery,d=l.useGetBatchPreviewsQuery,p=l.useExportSingleMutation,E=l.useExportBatchMutation},52477:function(e,r,n){n.d(r,{BN:function(){return E},KR:function(){return y},Os:function(){return p},TY:function(){return c},Us:function(){return f},mm:function(){return d}});var t=n(75104),a=n(44313),u=n(85687),o=n(90012),i=n(65800),s=n(16958),l=n(12991),c=(0,u.LC)({reducerPath:s.V.GROUPS,baseQuery:i.hK,tagTypes:[s.q.GROUPS,s.q.WIREFRAMES,s.q.PAGES,s.q.SAVED_WIREFRAMES],endpoints:function(e){return{getGroups:e.query({query:function(){return{url:l.q.GET_GROUPS}},transformResponse:function(e){return e},transformErrorResponse:o.z,providesTags:function(e){return e?(0,a._)(e.groups.map(function(e){var r=e.id;return{type:s.q.GROUPS,id:r}})).concat([{type:s.q.GROUPS,id:"LIST"}]):[{type:s.q.GROUPS,id:"LIST"}]},keepUnusedDataFor:30}),getGroupWireframes:e.query({query:function(e){var r=e.groupId;return{url:"".concat(l.q.GET_GROUP_WIREFRAMES,"/").concat(r)}},transformResponse:function(e){return{wireframes:e.data.wireframes}},keepUnusedDataFor:20,transformErrorResponse:o.z,providesTags:function(e,r,n){var t=n.groupId;return[{type:s.q.GROUPS,id:t},{type:s.q.WIREFRAMES,id:"LIST"}]}}),createGroup:e.mutation({query:function(e){return{url:l.q.CREATE_GROUP,method:"POST",body:e}},transformErrorResponse:o.z,invalidatesTags:[{type:s.q.GROUPS,id:"LIST"},{type:s.q.PAGES,id:"LIST"},{type:s.q.SAVED_WIREFRAMES,id:"LIST"}]}),updateGroup:e.mutation({query:function(e){var r=e.groupId,n=(0,t._)(e,["groupId"]);return{url:"".concat(l.q.UPDATE_GROUP,"/").concat(r),method:"PUT",body:n}},transformErrorResponse:o.z,invalidatesTags:function(e,r,n){var t=n.groupId;return[{type:s.q.GROUPS,id:t},{type:s.q.GROUPS,id:"LIST"},{type:s.q.PAGES,id:"LIST"},{type:s.q.SAVED_WIREFRAMES,id:"LIST"}]}}),deleteGroup:e.mutation({query:function(e){var r=e.groupId;return{url:"".concat(l.q.DELETE_GROUP,"/").concat(r),method:"DELETE"}},transformErrorResponse:o.z,invalidatesTags:[{type:s.q.GROUPS,id:"LIST"},{type:s.q.PAGES,id:"LIST"},{type:s.q.SAVED_WIREFRAMES,id:"LIST"}]}),saveGroup:e.mutation({query:function(e){var r=e.groupId;return{url:l.q.SAVE_GROUP,method:"POST",body:{groupId:r}}},transformErrorResponse:o.z,invalidatesTags:function(e,r,n){var t=n.groupId;return[{type:s.q.GROUPS,id:t},{type:s.q.GROUPS,id:"LIST"},{type:s.q.SAVED_WIREFRAMES,id:"LIST"}]}}),unsaveGroup:e.mutation({query:function(e){var r=e.groupId;return{url:l.q.UNSAVE_GROUP,method:"POST",body:{groupId:r}}},transformErrorResponse:o.z,invalidatesTags:function(e,r,n){var t=n.groupId;return[{type:s.q.GROUPS,id:t},{type:s.q.GROUPS,id:"LIST"},{type:s.q.SAVED_WIREFRAMES,id:"LIST"}]}}),moveGroup:e.mutation({query:function(e){return{url:l.q.MOVE_GROUP,method:"POST",body:e}},transformErrorResponse:o.z,invalidatesTags:function(e,r,n){var t=n.groupId,a=n.pageId,u=n.existingPageId;return[{type:s.q.GROUPS,id:t},{type:s.q.PAGES,id:a},{type:s.q.PAGES,id:u},{type:s.q.PAGES,id:"LIST"},{type:s.q.SAVED_WIREFRAMES,id:"LIST"}]}}),uploadPreview:e.mutation({query:function(e){var r=e.id,n=e.image,t=new FormData;return t.append("image",n),{url:"".concat(l.q.UPLOAD_PREVIEW,"/group/").concat(r),method:"POST",body:t}},transformErrorResponse:o.z,invalidatesTags:function(e,r,n){var t=n.id;return[{type:s.q.GROUPS,id:t},{type:s.q.GROUPS,id:"LIST"}]}})}}});c.useGetGroupsQuery,c.useGetGroupWireframesQuery;var d=c.useCreateGroupMutation,p=(c.useUpdateGroupMutation,c.useDeleteGroupMutation,c.useSaveGroupMutation,c.useUnsaveGroupMutation),E=c.useMoveGroupMutation,f=(c.useUploadPreviewMutation,c.useLazyGetGroupsQuery),y=c.useLazyGetGroupWireframesQuery},30398:function(e,r,n){n.d(r,{$P:function(){return f},Fh:function(){return p},c$:function(){return l},cG:function(){return c},fz:function(){return d},jM:function(){return E}});var t=n(41369),a=n(43654),u=n(85687),o=n(65800),i=n(12991),s=n(16958),l=(0,u.LC)({reducerPath:s.V.SHARING,baseQuery:o.hK,tagTypes:["sharing"],keepUnusedDataFor:3e4,endpoints:function(e){return{generateSharingUrl:e.mutation({query:function(e){return{url:i.q.GENERATE_SHARING_URL,method:"POST",body:e}},transformResponse:function(e){return(null==e?void 0:e.status)==="success"?(0,a._)((0,t._)({},e),{fullShareUrl:"".concat(window.location.origin,"/s/").concat(e.sharingUrl)}):e}}),getSharingData:e.query({query:function(e){return{url:i.q.RETRIEVE_SHARING_DATA,params:{pageId:e}}},transformResponse:function(e){return(null==e?void 0:e.status)==="success"?(0,a._)((0,t._)({},e.sharingData),{fullShareUrl:"".concat(window.location.origin,"/s/").concat(e.sharingData.sharingUrl)}):null}}),getWireframeSharingData:e.query({query:function(e){return{url:i.q.RETRIEVE_SHARING_DATA,params:{wireframeId:e}}},transformResponse:function(e){return(null==e?void 0:e.status)==="success"?(0,a._)((0,t._)({},e.sharingData),{fullShareUrl:"".concat(window.location.origin,"/s/").concat(e.sharingData.sharingUrl)}):null}}),getSharedContent:e.query({query:function(e){var r=e.shareId,n=e.googleUID;return{url:"/sharing/".concat(r).concat(n?"?uid=".concat(n):"")}},transformResponse:function(e){return(null==e?void 0:e.status)==="success"?e:null}}),getSharedProtectedContent:e.query({query:function(e){var r=e.shareId,n=e.googleUID,t=e.password;return{url:"/sharing/".concat(r,"/password-protected").concat(n?"?uid=".concat(n):""),method:"POST",body:{password:t}}},transformResponse:function(e){return e}})}}}),c=l.useGenerateSharingUrlMutation,d=(l.useGetSharingDataQuery,l.useGetWireframeSharingDataQuery,l.useLazyGetWireframeSharingDataQuery),p=l.useGetSharedContentQuery,E=l.useLazyGetSharingDataQuery,f=(l.useGetSharedProtectedContentQuery,l.useLazyGetSharedProtectedContentQuery)},55024:function(e,r,n){n.d(r,{$B:function(){return c},jv:function(){return p},qI:function(){return d},s_:function(){return E}});var t=n(75104),a=n(44313),u=n(85687),o=n(90012),i=n(65800),s=n(16958),l=n(12991),c=(0,u.LC)({reducerPath:s.V.SYMBOLS,baseQuery:i.hK,tagTypes:[s.q.SYMBOLS],endpoints:function(e){return{getSymbols:e.query({query:function(){return{url:l.q.GET_SYMBOLS,method:"GET"}},transformResponse:function(e){return e},transformErrorResponse:o.z,providesTags:function(e){return e?(0,a._)(e.symbols.map(function(e){var r=e.id;return{type:s.q.SYMBOLS,id:r}})).concat([{type:s.q.SYMBOLS,id:"LIST"}]):[{type:s.q.SYMBOLS,id:"LIST"}]},keepUnusedDataFor:300}),getPageSymbols:e.query({query:function(e){var r=e.pageId;return{url:"".concat(l.q.GET_PAGE_SYMBOLS,"/").concat(r),method:"GET"}},transformResponse:function(e){return e},transformErrorResponse:o.z,providesTags:function(e,r,n){var t=n.pageId;return[{type:s.q.SYMBOLS,id:"PAGE-".concat(t)},{type:s.q.SYMBOLS,id:"LIST"}]},keepUnusedDataFor:300}),getSymbolById:e.query({query:function(e){var r=e.symbolId;return{url:"".concat(l.q.GET_SYMBOL_BY_ID,"/").concat(r),method:"GET"}},transformResponse:function(e){return e},transformErrorResponse:o.z,providesTags:function(e,r,n){var t=n.symbolId;return[{type:s.q.SYMBOLS,id:t}]}}),createSymbol:e.mutation({query:function(e){return{url:l.q.CREATE_SYMBOL,method:"POST",body:e}},transformResponse:function(e){return e},transformErrorResponse:o.z,invalidatesTags:[{type:s.q.SYMBOLS,id:"LIST"}]}),updateSymbol:e.mutation({query:function(e){var r=e.symbolId,n=(0,t._)(e,["symbolId"]);return{url:"".concat(l.q.UPDATE_SYMBOL,"/").concat(r),method:"PATCH",body:n}},transformResponse:function(e){return e},transformErrorResponse:o.z,invalidatesTags:function(e,r,n){var t=n.symbolId;return[{type:s.q.SYMBOLS,id:t},{type:s.q.SYMBOLS,id:"LIST"}]}}),deleteSymbol:e.mutation({query:function(e){var r=e.symbolId;return{url:"".concat(l.q.DELETE_SYMBOL,"/").concat(r),method:"DELETE"}},transformErrorResponse:o.z,invalidatesTags:function(e,r,n){var t=n.symbolId;return[{type:s.q.SYMBOLS,id:t},{type:s.q.SYMBOLS,id:"LIST"}]}})}}});c.useGetSymbolsQuery;var d=c.useGetPageSymbolsQuery,p=(c.useGetSymbolByIdQuery,c.useCreateSymbolMutation),E=(c.useUpdateSymbolMutation,c.useDeleteSymbolMutation);c.useLazyGetSymbolsQuery,c.useLazyGetPageSymbolsQuery},52893:function(e,r,n){n.d(r,{U7:function(){return c},Wu:function(){return p},cq:function(){return y},jv:function(){return d},mv:function(){return f},su:function(){return E}});var t=n(75104),a=n(44313),u=n(85687),o=n(90012),i=n(65800),s=n(16958),l=n(12991),c=(0,u.LC)({reducerPath:s.V.THEMES,baseQuery:i.hK,tagTypes:[s.q.THEMES],endpoints:function(e){return{getAllThemes:e.query({query:function(){return{url:l.q.GET_THEMES,method:"GET"}},transformResponse:function(e){return e},transformErrorResponse:o.z,providesTags:function(e){return e?(0,a._)(e.themes.map(function(e){var r=e.id;return{type:s.q.THEMES,id:r}})).concat([{type:s.q.THEMES,id:"LIST"}]):[{type:s.q.THEMES,id:"LIST"}]},keepUnusedDataFor:60}),getThemeById:e.query({query:function(e){var r=e.themeId;return{url:"".concat(l.q.GET_THEME_BY_ID,"/").concat(r),method:"GET"}},transformResponse:function(e){return e},transformErrorResponse:o.z,providesTags:function(e,r,n){var t=n.themeId;return[{type:s.q.THEMES,id:t}]},keepUnusedDataFor:60}),createTheme:e.mutation({query:function(e){return{url:l.q.CREATE_THEME,method:"POST",body:e}},transformErrorResponse:o.z,invalidatesTags:[{type:s.q.THEMES,id:"LIST"}]}),updateTheme:e.mutation({query:function(e){var r=e.themeId,n=(0,t._)(e,["themeId"]);return{url:"".concat(l.q.UPDATE_THEME,"/").concat(r),method:"PUT",body:n}},transformErrorResponse:o.z,invalidatesTags:function(e,r,n){var t=n.themeId;return[{type:s.q.THEMES,id:t},{type:s.q.THEMES,id:"LIST"}]}}),deleteTheme:e.mutation({query:function(e){var r=e.themeId;return{url:"".concat(l.q.DELETE_THEME,"/").concat(r),method:"DELETE"}},transformErrorResponse:o.z,invalidatesTags:[{type:s.q.THEMES,id:"LIST"}]})}}}),d=c.useGetAllThemesQuery,p=(c.useGetThemeByIdQuery,c.useCreateThemeMutation),E=c.useUpdateThemeMutation,f=c.useDeleteThemeMutation,y=(c.useLazyGetAllThemesQuery,c.useLazyGetThemeByIdQuery)},24424:function(e,r,n){n.d(r,{Gt:function(){return c},ob:function(){return p},W:function(){return d}});var t=n(45610),a=n(50044),u=n(85687),o={SURVEY:"Survey",TRIAL:"Trial"},i=n(65800),s=n(16958),l=n(42146),c=(0,u.LC)({reducerPath:s.V.ONBOARDING,baseQuery:i.hK,tagTypes:Object.values(o),endpoints:function(e){return{submitSurvey:e.mutation({query:function(e){return{url:"/save-survey",method:"POST",headers:{"Content-Type":"application/json"},body:e.data}},invalidatesTags:[o.SURVEY]}),startTrial:e.mutation({query:function(){return{url:"/start-trial",method:"POST",headers:{"Content-Type":"application/json"}}},onQueryStarted:function(e,r){var n=r.dispatch,u=r.queryFulfilled;return(0,t._)(function(){return(0,a.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,u];case 1:return e.sent(),n(l.iJ.util.invalidateTags([{type:s.q.USER,id:"current"}])),[3,3];case 2:return console.error("Error starting trial:",e.sent()),[3,3];case 3:return[2]}})})()},invalidatesTags:[o.TRIAL]})}}}),d=c.useSubmitSurveyMutation,p=c.useStartTrialMutation},44388:function(e,r,n){n.d(r,{D2:function(){return s},IU:function(){return c},OR:function(){return i},PH:function(){return l}});var t=n(85687),a=n(16958),u=n(88138),o=n(65800),i=(0,t.LC)({reducerPath:a.V.REVIEWS_QUERIES_MUTATIONS,baseQuery:o.hK,tagTypes:[a.q.DESIGN_REVIEWS,a.q.SUBSCRIPTION],endpoints:function(e){return{getSavedReviews:e.query({query:function(e){return{url:u.h.GET_SAVED_REVIEWS,method:"GET"}},providesTags:[a.q.DESIGN_REVIEWS],transformResponse:function(e){var r;return(null==e?void 0:null===(r=e.reviews)||void 0===r?void 0:r.length)>0?e.reviews.sort(function(e,r){return new Date(r.date).getTime()-new Date(e.date).getTime()}):[]}}),saveReview:e.mutation({query:function(e){return{url:u.h.SAVE_REVIEW,method:"POST",body:e}},invalidatesTags:[a.q.DESIGN_REVIEWS]}),unsaveReview:e.mutation({query:function(e){return{url:u.h.UNSAVE_REVIEW,method:"DELETE",body:e}},invalidatesTags:[a.q.DESIGN_REVIEWS]})}}}),s=i.useGetSavedReviewsQuery,l=i.useSaveReviewMutation,c=i.useUnsaveReviewMutation},44568:function(e,r,n){n.d(r,{b:function(){return s},w:function(){return i}});var t=n(85687),a=n(88138),u=n(16958),o=n(65800),i=(0,t.LC)({reducerPath:u.V.UPLOAD_DOCUMENT,baseQuery:o.hK,tagTypes:[],endpoints:function(e){return{uploadDocumentFile:e.mutation({query:function(e){var r=e.file,n=e.uid,t=new FormData;return t.append("file",r),t.append("uid",n),{url:a.h.UPLOAD_DOCUMENT_URL,method:"POST",body:t}},transformResponse:function(e){return e&&(null==e?void 0:e.publicUrl)?{id:e.id,url:e.publicUrl,fileName:e.fileName,fileSize:e.fileSize,fileType:e.fileType}:e&&"string"==typeof e?{id:"",url:e,fileName:"",fileSize:0,fileType:""}:null}})}}}),s=i.useUploadDocumentFileMutation},56292:function(e,r,n){n.d(r,{Z:function(){return s},l:function(){return i}});var t=n(85687),a=n(88138),u=n(16958),o=n(65800),i=(0,t.LC)({reducerPath:u.V.UPLOAD_FILE,baseQuery:o.hK,endpoints:function(e){return{uploadImageFile:e.mutation({query:function(e){var r=e.file,n=e.uid,t=e.isDesignReviewPage,u=new FormData;return u.append("file",r),u.append("uid",n),t&&u.append("isDesignReviewPage",t),{url:a.h.UPLOAD_IMAGE_URL,method:"POST",body:u}},transformResponse:function(e){return e&&(null==e?void 0:e.publicUrl)?null==e?void 0:e.publicUrl:e&&"string"==typeof e?e:null}})}}}),s=i.useUploadImageFileMutation},26015:function(e,r,n){n.d(r,{CH:function(){return T},Ll:function(){return y},PR:function(){return S}});var t,a=n(45610),u=n(41369),o=n(50044),i=n(85687),s=n(27419),l=n(65800),c=n(16958),d=n(88138),p=n(27007),E=n(38597),f=(t=(0,a._)(function(){var e,r;return(0,o.Jh)(this,function(n){return[2,null!==(r=null===(e=(0,p.v0)().currentUser)||void 0===e?void 0:e.getIdToken())&&void 0!==r?r:null]})}),function(){return t.apply(this,arguments)});function parseSSELine(e){var r=e.trim();if(!r.startsWith("data:"))return null;var n=r.slice(5).trim();if(!n)return null;try{return JSON.parse(n)}catch(e){return{type:"chunk",content:n}}}var y=(0,i.LC)({reducerPath:c.V.UX_REVIEW,baseQuery:l.hK,tagTypes:[c.q.DESIGN_REVIEWS,c.q.SUBSCRIPTION,c.q.HEATMAP],endpoints:function(e){var r,n;return{generateHeatmap:e.mutation({query:function(e){return{url:d.h.GENERATE_HEATMAP,method:"POST",body:e}},onQueryStarted:(r=(0,a._)(function(e,r){var n,t;return(0,o.Jh)(this,function(e){switch(e.label){case 0:n=r.dispatch,t=r.queryFulfilled,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t];case 2:return e.sent(),n(s.h7.util.invalidateTags([{type:c.q.SUBSCRIPTION,id:"STATUS"}])),[3,4];case 3:return e.sent(),console.error("Error generating heatmap"),[3,4];case 4:return[2]}})}),function(e,n){return r.apply(this,arguments)})}),generateDesignReview:e.mutation({queryFn:(n=(0,a._)(function(e,r){var n,t,a,i,l,p,y,S,T,v,_,m,R,D,A,g,h,P,I,L,C,O,N,b,U,Y,q,M,w,G,F,V,H,B;return(0,o.Jh)(this,function(o){switch(o.label){case 0:n=e.data,t=e.onChunk,a=e.onError,i=e.onComplete,l=e.signal,p=r.dispatch,o.label=1;case 1:return o.trys.push([1,10,,11]),[4,f()];case 2:return y=o.sent(),[4,fetch("".concat(E.URLS.streamUrl).concat(d.h.GENERATE_UX_REVIEW_V2),{method:"POST",headers:(0,u._)({"Content-Type":"application/json"},y&&{Authorization:"Bearer ".concat(y)}),credentials:"include",body:JSON.stringify(n),signal:l})];case 3:if((S=o.sent()).ok)return[3,5];return T=Error.bind,[4,S.text()];case 4:throw new(T.apply(Error,[void 0,o.sent()||"HTTP error! status: ".concat(S.status)]));case 5:if(!S.body)throw Error("No response body");v=S.body.getReader(),_=new TextDecoder("utf-8"),m="",R="",o.label=6;case 6:return[4,v.read()];case 7:if(A=(D=o.sent()).done,g=D.value,A)return[3,9];if(!g)return[3,8];m+=_.decode(g,{stream:!0}),m=null!==(P=(h=m.split("\n")).pop())&&void 0!==P?P:"",I=!0,L=!1,C=void 0;try{for(O=h[Symbol.iterator]();!(I=(N=O.next()).done);I=!0)if(b=N.value,(U=parseSSELine(b))&&(t(U),"chunk"===U.type&&(R+=U.content),"error"===U.type))throw Error(U.content)}catch(e){L=!0,C=e}finally{try{I||null==O.return||O.return()}finally{if(L)throw C}}o.label=8;case 8:return[3,6];case 9:if((m+=_.decode()).trim()){Y=!0,q=!1,M=void 0;try{for(w=m.split("\n")[Symbol.iterator]();!(Y=(G=w.next()).done);Y=!0)if(F=G.value,(V=parseSSELine(F))&&(t(V),"chunk"===V.type&&(R+=V.content),"error"===V.type))throw Error(V.content)}catch(e){q=!0,M=e}finally{try{Y||null==w.return||w.return()}finally{if(q)throw M}}}return p(s.h7.util.invalidateTags([{type:c.q.SUBSCRIPTION,id:"STATUS"}])),null==i||i(),[2,{data:R}];case 10:if((H=o.sent())instanceof Error&&"AbortError"===H.name)return[2,{error:{status:"CUSTOM_ERROR",error:"Request aborted"}}];return B=H instanceof Error?H.message:"Unknown error",null==a||a(H instanceof Error?H:Error(B)),[2,{error:{status:"CUSTOM_ERROR",error:B}}];case 11:return[2]}})}),function(e,r){return n.apply(this,arguments)})})}}}),S=y.useGenerateHeatmapMutation,T=y.useGenerateDesignReviewMutation},88138:function(e,r,n){n.d(r,{h:function(){return t}});var t={GET_COUNT:"/getCount",UPDATE_COUNT:"/updateCount",GET_SAVED_REVIEWS:"/getSavedDesignReviews",SAVE_REVIEW:"/saveNewDesignReview",UNSAVE_REVIEW:"/unsaveDesignReview",GENERATE_UX_REVIEW:"/ux-review-general",GENERATE_HEATMAP:"/heatmap",UPLOAD_DOCUMENT_URL:"/upload-file-to-firebase/document",UPLOAD_IMAGE_URL:"/uploadImageFileToFirebase",GENERATE_UX_REVIEW_V2:"/ux-review-general-v2"}},15203:function(e,r,n){n.d(r,{b:function(){return getStore},h:function(){return store}});var t=n(21575),a=n(73135),u=n(55345),o=n(50406),i=n(52477),s=n(36902),l=n(60659),c=n(93629),d=n(30398),p=n(42146),E=n(27419),f=n(26015),y=n(85687),S=n(38597),T=n(16958),v=n(88138),_=(0,y.LC)({reducerPath:T.V.USER_COUNT,baseQuery:(0,u.ni)({baseUrl:S.URLS.authFuncUrl}),tagTypes:[T.q.USER_COUNT],endpoints:function(e){return{getCount:e.query({query:function(e){return{url:v.h.GET_COUNT,method:"POST",headers:{"Content-Type":"application/json"},body:{uid:e}}},providesTags:[T.q.USER_COUNT],transformResponse:function(e){return(null==e?void 0:e.userAPICount)||0}}),updateCount:e.mutation({query:function(e){var r=e.uid,n=e.page;return{url:v.h.UPDATE_COUNT,method:"POST",headers:{"Content-Type":"application/json"},body:{uid:r,page:n}}},invalidatesTags:[T.q.USER_COUNT]})}}});_.useGetCountQuery,_.useUpdateCountMutation;var m=n(56292),R=n(44388),D=n(82924),A=n(61841),g=n(52893),h=n(55024),P=n(44568),I=n(24424),L=n(42776),C=n(52668),O=n(79590),N=null,store=function(){var e;return N||(N=(0,a.xC)({reducer:(e={},(0,t._)(e,o.yk.reducerPath,o.yk.reducer),(0,t._)(e,i.TY.reducerPath,i.TY.reducer),(0,t._)(e,s.cr.reducerPath,s.cr.reducer),(0,t._)(e,l.W$.reducerPath,l.W$.reducer),(0,t._)(e,c.aG.reducerPath,c.aG.reducer),(0,t._)(e,d.c$.reducerPath,d.c$.reducer),(0,t._)(e,p.iJ.reducerPath,p.iJ.reducer),(0,t._)(e,E.h7.reducerPath,E.h7.reducer),(0,t._)(e,f.Ll.reducerPath,f.Ll.reducer),(0,t._)(e,_.reducerPath,_.reducer),(0,t._)(e,m.l.reducerPath,m.l.reducer),(0,t._)(e,R.OR.reducerPath,R.OR.reducer),(0,t._)(e,D.fo.reducerPath,D.fo.reducer),(0,t._)(e,A.uW.reducerPath,A.uW.reducer),(0,t._)(e,g.U7.reducerPath,g.U7.reducer),(0,t._)(e,h.$B.reducerPath,h.$B.reducer),(0,t._)(e,P.w.reducerPath,P.w.reducer),(0,t._)(e,I.Gt.reducerPath,I.Gt.reducer),(0,t._)(e,L.xU.reducerPath,L.xU.reducer),(0,t._)(e,C.J7.reducerPath,C.J7.reducer),(0,t._)(e,O.PK.reducerPath,O.PK.reducer),e),middleware:function(e){return e().concat(o.yk.middleware,i.TY.middleware,s.cr.middleware,l.W$.middleware,c.aG.middleware,d.c$.middleware,p.iJ.middleware,E.h7.middleware,f.Ll.middleware,_.middleware,m.l.middleware,R.OR.middleware,D.fo.middleware,g.U7.middleware,h.$B.middleware,I.Gt.middleware,A.uW.middleware,P.w.middleware,L.xU.middleware,C.J7.middleware,O.PK.middleware)},devTools:!1}),(0,u.sj)(N.dispatch)),N},getStore=function(){return N||(N=store()),N}}}]);